using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace NSW
{
    public partial class SiteMaster : System.Web.UI.MasterPage
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            NSW.Data.LabelText title = new NSW.Data.LabelText("lblTitle");
            NSW.Data.LabelText login = new NSW.Data.LabelText("lblLogin");
            NSW.Data.LabelText welcome = new NSW.Data.LabelText("lblWelcome");
            NSW.Data.LabelText search = new NSW.Data.LabelText("btnSearch");
            NSW.Data.LabelText home = new NSW.Data.LabelText("btnHome");
            NSW.Data.LabelText logout = new NSW.Data.LabelText("lblLogout");
            switch (NSW.Info.ProjectInfo.DisplayLanguage)
            {
                case "English":
                    {
                        // title of the page
                        lblTitle.Text = title.English;
                        // Welcome text
                        Label newLabel = (Label)this.HeadLoginView.FindControl("lblWelcome");
                        if(newLabel != null)
                            newLabel.Text = welcome.English;
                        // Title bar button "Login"
                        newLabel = (Label)this.HeadLoginView.FindControl("lblLogin");
                        if(newLabel != null)
                            newLabel.Text = login.English;
                        // Menu bar
                        MenuItem searchItem = new MenuItem(search.English, null, null, "~/Search.aspx");
                        MenuItem homeItem = new MenuItem(home.English, null, null, "~/Deafult.aspx");
                        this.NavigationMenu.Items.Clear();
                        this.NavigationMenu.Items.Add(homeItem);
                        this.NavigationMenu.Items.Add(searchItem);
                        // logout button
                        LoginStatus newStatus = (LoginStatus)this.HeadLoginView.FindControl("HeadLoginStatus");
                        if (newStatus != null)
                            newStatus.LogoutText = logout.English;

                        break;
                    }
                case "Japanese":
                    {
                        lblTitle.Text = title.Japanese;
                        break;
                    }
            }
        }
    }
}

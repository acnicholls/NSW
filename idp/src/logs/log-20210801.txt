[02:42:00 Information] 
Starting host...

[02:42:00 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[02:42:00 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[02:42:00 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[02:42:00 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[02:42:00 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[02:42:00 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[02:42:00 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[02:42:00 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[02:42:00 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[02:42:00 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[02:42:00 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[02:42:00 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[02:42:00 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[02:42:00 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[02:42:00 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[02:42:00 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[02:42:38 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[02:42:38 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[02:42:38 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[02:42:38 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[02:42:38 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[02:42:38 Debug] IdentityServer4.Startup
Error Url: /home/error

[02:42:38 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[02:42:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[02:42:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[02:42:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[02:42:38 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
http idp:5006/.well-known/openid-configuration  

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[02:42:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[02:42:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[02:42:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[02:42:38 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
http idp:5006/.well-known/openid-configuration/jwks  

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[02:42:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[02:42:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[02:42:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[02:42:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[02:42:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[02:42:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[02:42:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[02:42:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[02:42:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[02:42:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ","UiLocales":null,"Nonce":"637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"s9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[02:42:38 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=s9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI&code_challenge_method=S256&response_mode=form_post&nonce=637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0&state=CfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
302: 

[02:42:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[02:42:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[02:42:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[02:42:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[02:42:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Ds9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[02:42:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=s9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gAD7VpsyPh8bBZbgjnO2XK4Nji2vWcWj4ATDsiW2QfpFBnDbtNFucC3z9ck6bSLb_GE9XAOQ6l-RC2Ec96LrRS6s5fuhngcldwQKpIEbhIvWNl0zTwKlueUyNHgrHey6348" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Ds9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[02:42:48 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[02:42:48 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Ds9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Ds9K5--T-0YwKFXZYtAOz2ESbpOhKIueRnBKuJA3xRxI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633825585935336.OWRlODJmZDUtNTJkYy00MTY0LWIyMWItZWIwNWUwNDhkNmQzZjZhNTU5ODUtZmE3ZC00YmQxLTlhOTctMGJlMDFjY2Q5NjI0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgLy77vKr4hEbUpidjIj0tfTzRVkVwYin-UWpdbMmZooziIc0dFXu-0pLgDk0m9pjf8WQTPZu0bygjxo2Tt8VFnPobQxY_Y_uAhwqNKW7cqiE_-D69v7QVfX5Nrwvrlir4NcyHuQxO-H3nG6xDD9kfgRrMRdmjp26ISSI94UPkdr2jO8euHwfo3tEJbkRiqVeb6eMAz0iGC9LgIQvUhoShMdLmmRXnV3w1f7hr7Ebm5NyQdBX0-u9TDevFLMTLzlZd2XTaMVAwAWFcQBNUp1cQg5pWq9Tx-cDeCE4XmjFlk9utgINbeCg2gFcOA_hK1lRLxlhOgNz3QSObj3PmEoT0X9i79tVoktvizSek_4GIMuQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gAD7VpsyPh8bBZbgjnO2XK4Nji2vWcWj4ATDsiW2QfpFBnDbtNFucC3z9ck6bSLb_GE9XAOQ6l-RC2Ec96LrRS6s5fuhngcldwQKpIEbhIvWNl0zTwKlueUyNHgrHey6348&RememberLogin=false

[02:42:48 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
400: 

[02:48:12 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[02:48:18 Information] 
Starting host...

[02:48:18 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[02:48:18 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[02:48:18 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[02:48:18 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[02:48:18 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[02:48:18 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[02:48:18 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[02:48:18 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[02:48:18 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[02:48:18 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[02:48:18 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[02:48:18 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[02:48:18 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[02:48:18 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[02:48:18 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[02:48:18 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[02:49:22 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[02:49:28 Information] 
Starting host...

[02:49:28 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[02:49:28 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[02:49:28 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[02:49:28 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[02:49:28 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[02:49:28 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[02:49:28 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[02:49:28 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[02:49:28 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[02:49:28 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[02:49:28 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[02:49:28 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[02:49:28 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[02:49:28 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[02:49:28 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[02:49:28 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[02:56:56 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[02:57:02 Information] 
Starting host...

[02:57:02 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[02:57:02 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[02:57:03 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[02:57:03 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[02:57:03 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[02:57:03 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[02:57:03 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[02:57:03 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[02:57:03 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[02:57:03 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[02:57:03 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[02:57:03 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[02:57:03 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[02:57:03 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[02:57:03 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[02:57:03 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[02:57:10 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[02:57:15 Information] 
Starting host...

[02:57:15 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[02:57:15 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[02:57:15 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[02:57:15 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[02:57:15 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[02:57:15 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[02:57:15 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[02:57:15 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[02:57:15 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[02:57:15 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[02:57:15 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[02:57:15 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[02:57:15 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[02:57:15 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[02:57:15 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[02:57:15 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[03:04:01 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[03:04:01 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[03:04:01 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[03:04:01 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[03:04:01 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[03:04:01 Debug] IdentityServer4.Startup
Error Url: /home/error

[03:04:01 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[03:04:01 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[03:04:01 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[03:04:01 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[03:04:01 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[03:04:01 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration  

[03:04:01 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[03:04:01 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[03:04:01 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[03:04:01 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[03:04:01 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[03:04:01 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration/jwks  

[03:04:01 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[03:04:02 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[03:04:02 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[03:04:02 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[03:04:02 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[03:04:02 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[03:04:02 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[03:04:02 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[03:04:02 Error] IdentityServer4.Validation.AuthorizeRequestValidator
Invalid redirect_uri: http://localhost/signin-oidc
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"WmO5d_rru2b427WUy2AA6s0qUpZNu3H8lwAG2CR5xGY","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633838419803315.ZmQ5YmM2MjMtMzhhYy00ZTY3LWI3NGEtYWNhMThkNWJiODVjMWJkOGE0NTEtODQ1ZS00ZDUwLTg3OTQtODU4OTdlNGUwMTk3","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZgIbqmas-RBDZra1oRqbSUwKwEPfGSzRLOyhroVmtIcA2agqP54fs1h-buTR1Neb_sZazFrh87XsikET5cDgbk6Al25QY9mEjPKRF5pqMqzGr_vkcgZbQXbxs72RGiE4CBKDOCuxaN29D2EYyBAsSj0q7twSyLCxHXoq-XoGN5-e4rIV4qyNBROLuB5o9mJyHR0J8AG4lZ84bKb9ew_H3UAnBOpjzsRwrVjwmbIk-q-dtSJPjQc4ZC5RgrJM9wF60BgGJ8Jctn-nFOYyEMRJK6lcMVS2fFrBDQhZWXGHLgKIIXDVMGcjn02VQAzQopqWsPaQDnoSz9GT9JwrRGLPPZCilMmifbWBPEf81B2aKB31g","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:04:02 Error] IdentityServer4.Endpoints.AuthorizeEndpoint
Request validation failed

[03:04:02 Information] IdentityServer4.Endpoints.AuthorizeEndpoint
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"WmO5d_rru2b427WUy2AA6s0qUpZNu3H8lwAG2CR5xGY","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633838419803315.ZmQ5YmM2MjMtMzhhYy00ZTY3LWI3NGEtYWNhMThkNWJiODVjMWJkOGE0NTEtODQ1ZS00ZDUwLTg3OTQtODU4OTdlNGUwMTk3","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZgIbqmas-RBDZra1oRqbSUwKwEPfGSzRLOyhroVmtIcA2agqP54fs1h-buTR1Neb_sZazFrh87XsikET5cDgbk6Al25QY9mEjPKRF5pqMqzGr_vkcgZbQXbxs72RGiE4CBKDOCuxaN29D2EYyBAsSj0q7twSyLCxHXoq-XoGN5-e4rIV4qyNBROLuB5o9mJyHR0J8AG4lZ84bKb9ew_H3UAnBOpjzsRwrVjwmbIk-q-dtSJPjQc4ZC5RgrJM9wF60BgGJ8Jctn-nFOYyEMRJK6lcMVS2fFrBDQhZWXGHLgKIIXDVMGcjn02VQAzQopqWsPaQDnoSz9GT9JwrRGLPPZCilMmifbWBPEf81B2aKB31g","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:04:02 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMAKJ41OBTLS:00000002","TimeStamp":"2021-08-01T03:04:02.0000000Z","ProcessId":1852,"LocalIpAddress":"172.22.0.3:5006","RemoteIpAddress":"172.22.0.6","$type":"TokenIssuedFailureEvent"}

[03:04:02 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=WmO5d_rru2b427WUy2AA6s0qUpZNu3H8lwAG2CR5xGY&code_challenge_method=S256&response_mode=form_post&nonce=637633838419803315.ZmQ5YmM2MjMtMzhhYy00ZTY3LWI3NGEtYWNhMThkNWJiODVjMWJkOGE0NTEtODQ1ZS00ZDUwLTg3OTQtODU4OTdlNGUwMTk3&state=CfDJ8PWnubQLTIhEr3sc3KKO1ZgIbqmas-RBDZra1oRqbSUwKwEPfGSzRLOyhroVmtIcA2agqP54fs1h-buTR1Neb_sZazFrh87XsikET5cDgbk6Al25QY9mEjPKRF5pqMqzGr_vkcgZbQXbxs72RGiE4CBKDOCuxaN29D2EYyBAsSj0q7twSyLCxHXoq-XoGN5-e4rIV4qyNBROLuB5o9mJyHR0J8AG4lZ84bKb9ew_H3UAnBOpjzsRwrVjwmbIk-q-dtSJPjQc4ZC5RgrJM9wF60BgGJ8Jctn-nFOYyEMRJK6lcMVS2fFrBDQhZWXGHLgKIIXDVMGcjn02VQAzQopqWsPaQDnoSz9GT9JwrRGLPPZCilMmifbWBPEf81B2aKB31g&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[03:04:02 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[03:27:27 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/home/error ?errorId=CfDJ8ACHeJvLkZtNh_je0xQ4gACkNJTdx_IdwPI4_WpTBL8-tNeuZ0574HdeaVWsblP_0tH4aZ8MHcCH5saZd_nCC6g6eDZArXmyuUG0mOtrN7xGWgd74WPeY4GEzaBJhtO9a2lX70eNYYnmKpgSSM57oBBWJxHOhUaeNOZ7a6b30WS13Ju2dyCuy9C-HWciB9T3uG0c7mMTQTLeY0YOaL_cyOOCMhQQ8CkHBMEu9Wcvzs09BtDw-_HfeYzB0ljJnkj8J5r43zsxYMixyEOBrTF71ticA7JzJStz97bcbS1tdUHQJCsV0p3FpEtcQBl2OxbxJAFqgbLB2A4WHhxF0sXAsNA 

[03:27:27 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        

<div class="error-page">
    <div class="lead">
        <h1>Error</h1>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="alert alert-danger">
                Sorry, there was an error

                    <strong>
                        <em>
                            : invalid_request
                        </em>
                    </strong>
                        <div>Invalid redirect_uri</div>
            </div>

                <div class="request-id">Request Id: 0HMAKJ41OBTLS:00000002</div>
        </div>
    </div>
</div>

    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[03:27:27 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/favicon.ico  

[03:27:27 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200:          h     (                 @                               #J #ï¿½""&ï¿½ï¿½ï¿½ #ï¿½! $ï¿½ #Z                             #ï¿½ #ï¿½"ï¿½    @99   2ï¿½$#'ï¿½! $ï¿½ #
                 #ï¿½ #ï¿½        d^ï¿½ï¿½ï¿½ï¿½ï¿½            !'ï¿½ #ï¿½ #         #ï¿½ #ï¿½     #E !&ï¿½! ï¿½Wï¿½ï¿½/ï¿½ï¿½ï¿½ï¿½ï¿½0            ï¿½ ï¿½     #O #ï¿½     #>  %ï¿½ ï¿½!"7ï¿½ï¿½ï¿½ï¿½ï¿½ ï¿½ï¿½s            /*+#"&ï¿½ Z #ï¿½ #ï¿½     #ï¿½ ï¿½     ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½s                XW[ï¿½ï¿½ #ï¿½ #2     #ï¿½ ï¿½        ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½s                B@DC"!%ï¿½ #ï¿½ #     #ï¿½ ï¿½        %ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½s                ï¿½ #ï¿½ #     #v  %ï¿½ ï¿½    mï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½h    #
ï¿½@ADï¿½ï¿½ï¿½ï¿½L{z}  ï¿½ #ï¿½ #J         #ï¿½ï¿½= ï¿½Sï¿½Ò¢ï¿½ï¿½ï¿½Eï¿½Î‰9"ï¿½ï¿½   ï¿½ï¿½ï¿½ï¿½conq 
ï¿½ #ï¿½ #ï¿½            K- ï¿½7ï¿½Ò°	ï¿½ï¿½ï¿½Pï¿½Ê¡<ï¿½ï¿½&&*~    ï¿½! $ï¿½ #I #ï¿½ #                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½)ï¿½ï¿½v            	ï¿½"!%U     #ï¿½ #ï¿½                ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½v             #ï¿½ #ï¿½             #ï¿½ #ï¿½             ï¿½ï¿½Nï¿½ï¿½J         ï¿½ #ï¿½ #                 #ï¿½ !&ï¿½ ï¿½  F     =Y& ï¿½ ï¿½  %ï¿½ #                         #@ #ï¿½  %ï¿½ ï¿½ ï¿½ ï¿½  ï¿½ !&O                ï¿½  ï¿½  ï¿½q  ï¿½9   8  "<  &<  &<  "   0   8  8  ï¿½9  ï¿½1  ï¿½ï¿½  ï¿½  

[03:29:31 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[03:29:31 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[03:29:31 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[03:29:31 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration  

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[03:29:31 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[03:29:31 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[03:29:31 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[03:29:31 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration/jwks  

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[03:29:31 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[03:29:31 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[03:29:31 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[03:29:31 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[03:29:31 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[03:29:31 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[03:29:31 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[03:29:31 Error] IdentityServer4.Validation.AuthorizeRequestValidator
Invalid redirect_uri: http://localhost/signin-oidc
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"76pEWyFknJzbqSHb50mgO_lEB5AqRAP7EflysNkA5_I","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633853718171857.ZDRkNmMzMmQtNmEzNi00NmExLWI4MjgtMTY5NDA2OWY4YmNiZDk3NWFkMGEtNWJiNy00YWY5LWE5ZGMtZTExZDNkMDA1ZjJj","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZhrQWCKLO32ueVMnjCz5Nzv9Drk31YC7AG0b20Y50v7Z5VdXUE7XA8r_Exr1TXUMMdhE-po6SKj2K4cJlId3sMeHwIGdrPS-EplhUmQrlTzpzbtiWvFnwGqeY7T45jtU-AJpwX1_5UwB6iEerAXOVshPxTY8Q0wBkQE_ds3JNOTgMrq3ejCtKFRcyiKmSWbZdzld8QgELXwoMrI5Bvf8zJGrC4EeLShOBXP2SA5ut_ixtvUcDA-bXOB2AnL1LAY8-BG6dodgvqWoksPGFxlPkGpBZ6UkEmqUMxieAqTOox2I364Uwin6leQ200U52FZAW0Fbaz9aWTp1ugw1wAfKH-CJjcrn7gDdsQ0O1ZA4avZvw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:29:31 Error] IdentityServer4.Endpoints.AuthorizeEndpoint
Request validation failed

[03:29:31 Information] IdentityServer4.Endpoints.AuthorizeEndpoint
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"76pEWyFknJzbqSHb50mgO_lEB5AqRAP7EflysNkA5_I","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633853718171857.ZDRkNmMzMmQtNmEzNi00NmExLWI4MjgtMTY5NDA2OWY4YmNiZDk3NWFkMGEtNWJiNy00YWY5LWE5ZGMtZTExZDNkMDA1ZjJj","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZhrQWCKLO32ueVMnjCz5Nzv9Drk31YC7AG0b20Y50v7Z5VdXUE7XA8r_Exr1TXUMMdhE-po6SKj2K4cJlId3sMeHwIGdrPS-EplhUmQrlTzpzbtiWvFnwGqeY7T45jtU-AJpwX1_5UwB6iEerAXOVshPxTY8Q0wBkQE_ds3JNOTgMrq3ejCtKFRcyiKmSWbZdzld8QgELXwoMrI5Bvf8zJGrC4EeLShOBXP2SA5ut_ixtvUcDA-bXOB2AnL1LAY8-BG6dodgvqWoksPGFxlPkGpBZ6UkEmqUMxieAqTOox2I364Uwin6leQ200U52FZAW0Fbaz9aWTp1ugw1wAfKH-CJjcrn7gDdsQ0O1ZA4avZvw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:29:31 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMAKJ41OBTM0:00000002","TimeStamp":"2021-08-01T03:29:31.0000000Z","ProcessId":1852,"LocalIpAddress":"172.22.0.3:5006","RemoteIpAddress":"172.22.0.6","$type":"TokenIssuedFailureEvent"}

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=76pEWyFknJzbqSHb50mgO_lEB5AqRAP7EflysNkA5_I&code_challenge_method=S256&response_mode=form_post&nonce=637633853718171857.ZDRkNmMzMmQtNmEzNi00NmExLWI4MjgtMTY5NDA2OWY4YmNiZDk3NWFkMGEtNWJiNy00YWY5LWE5ZGMtZTExZDNkMDA1ZjJj&state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhrQWCKLO32ueVMnjCz5Nzv9Drk31YC7AG0b20Y50v7Z5VdXUE7XA8r_Exr1TXUMMdhE-po6SKj2K4cJlId3sMeHwIGdrPS-EplhUmQrlTzpzbtiWvFnwGqeY7T45jtU-AJpwX1_5UwB6iEerAXOVshPxTY8Q0wBkQE_ds3JNOTgMrq3ejCtKFRcyiKmSWbZdzld8QgELXwoMrI5Bvf8zJGrC4EeLShOBXP2SA5ut_ixtvUcDA-bXOB2AnL1LAY8-BG6dodgvqWoksPGFxlPkGpBZ6UkEmqUMxieAqTOox2I364Uwin6leQ200U52FZAW0Fbaz9aWTp1ugw1wAfKH-CJjcrn7gDdsQ0O1ZA4avZvw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/home/error ?errorId=CfDJ8ACHeJvLkZtNh_je0xQ4gAB_oCCDwlFGjgTzkzDioCA7HUw9vd-IxGsUwrzIYrniEE9xcK8XOCOtur0m_F4Oy1ceguQKEEMHCCpWi8P_wY6aqgBF29pl5Kpf1tQJu07GtxqKPaZTQZ2nrMsnkTDT062Y3SKDXVNg882S4TL9Jj-HsKQCZFSbBoolA08Njj01RPbwpSprru7NsiCXhE-DoNMpCv23B2EECyUuisOle4Q0CCPMKQpm_GVFjiSo-z-mCBJEI5kfOGxmVMJHRNHZy23Da1GFmX-N7wqq3ZkmUmTs6H2amlC3gDw9xo5ybAOe1kawTzulqGfiuxy5OIMayP4 

[03:29:31 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        

<div class="error-page">
    <div class="lead">
        <h1>Error</h1>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="alert alert-danger">
                Sorry, there was an error

                    <strong>
                        <em>
                            : invalid_request
                        </em>
                    </strong>
                        <div>Invalid redirect_uri</div>
            </div>

                <div class="request-id">Request Id: 0HMAKJ41OBTM0:00000002</div>
        </div>
    </div>
</div>

    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[03:33:17 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[03:33:17 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[03:33:17 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[03:33:17 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[03:33:17 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration  

[03:33:17 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[03:33:17 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[03:33:17 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[03:33:17 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[03:33:17 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[03:33:17 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration/jwks  

[03:33:17 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[03:35:35 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[03:35:35 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[03:35:35 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[03:35:35 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration  

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[03:35:35 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[03:35:35 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[03:35:35 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[03:35:35 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration/jwks  

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[03:35:35 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[03:35:35 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[03:35:35 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[03:35:35 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[03:35:35 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[03:35:35 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[03:35:35 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[03:35:35 Error] IdentityServer4.Validation.AuthorizeRequestValidator
Invalid redirect_uri: http://localhost/signin-oidc
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"OxRngvTNEv-vJhV2Bs14badCP0NlYLW0_Qik9xmYS3M","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633857352179452.OTlkYzc5ZWQtODVjZS00OTE3LTliY2QtYjA0NjNiZWYzNTRjNTYyNzE4ZGEtZjI1OC00YmJmLTg3ZTQtNTg1YmE0N2ZiYjU4","state":"CfDJ8PWnubQLTIhEr3sc3KKO1Zh4FCbYECQAMQC0NpCI40v9terZWP3tC2748-5c0A90KtCx9rUGW1QZ-Wzla7GVS9qiPTkJl7jA_kS1nBoaRd2mj_MY0Eqp9ZE2OyjY_9DerkOAbkYl4BT6-4Vpjvj5RVg6JJWluYtW7zd4tjn9FMY9BZbmVoZuPO2ZDEXSXwKFuZ8Ke_t9sMdgm5ArrssSJitxyPk-HdV0jfCATR17lpw04CKn4GEmJTuAIz4sPf1O5lYPDIAu73Jd1D7o0pktdjSD7Vy0e-GcWi58HrqBGWNwx1pAjlMWnmG-wHthQFsXlNmi_wgS371BiWIOkvCO9zTfbDAOcc4WtFXuhHxPLk5evWI0ce0hWZ-oJGkihPBP0w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:35:35 Error] IdentityServer4.Endpoints.AuthorizeEndpoint
Request validation failed

[03:35:35 Information] IdentityServer4.Endpoints.AuthorizeEndpoint
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"AllowedRedirectUris":["http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"OxRngvTNEv-vJhV2Bs14badCP0NlYLW0_Qik9xmYS3M","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633857352179452.OTlkYzc5ZWQtODVjZS00OTE3LTliY2QtYjA0NjNiZWYzNTRjNTYyNzE4ZGEtZjI1OC00YmJmLTg3ZTQtNTg1YmE0N2ZiYjU4","state":"CfDJ8PWnubQLTIhEr3sc3KKO1Zh4FCbYECQAMQC0NpCI40v9terZWP3tC2748-5c0A90KtCx9rUGW1QZ-Wzla7GVS9qiPTkJl7jA_kS1nBoaRd2mj_MY0Eqp9ZE2OyjY_9DerkOAbkYl4BT6-4Vpjvj5RVg6JJWluYtW7zd4tjn9FMY9BZbmVoZuPO2ZDEXSXwKFuZ8Ke_t9sMdgm5ArrssSJitxyPk-HdV0jfCATR17lpw04CKn4GEmJTuAIz4sPf1O5lYPDIAu73Jd1D7o0pktdjSD7Vy0e-GcWi58HrqBGWNwx1pAjlMWnmG-wHthQFsXlNmi_wgS371BiWIOkvCO9zTfbDAOcc4WtFXuhHxPLk5evWI0ce0hWZ-oJGkihPBP0w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:35:35 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"invalid_request","ErrorDescription":"Invalid redirect_uri","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMAKJ41OBTM4:00000002","TimeStamp":"2021-08-01T03:35:35.0000000Z","ProcessId":1852,"LocalIpAddress":"172.22.0.3:5006","RemoteIpAddress":"172.22.0.6","$type":"TokenIssuedFailureEvent"}

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=OxRngvTNEv-vJhV2Bs14badCP0NlYLW0_Qik9xmYS3M&code_challenge_method=S256&response_mode=form_post&nonce=637633857352179452.OTlkYzc5ZWQtODVjZS00OTE3LTliY2QtYjA0NjNiZWYzNTRjNTYyNzE4ZGEtZjI1OC00YmJmLTg3ZTQtNTg1YmE0N2ZiYjU4&state=CfDJ8PWnubQLTIhEr3sc3KKO1Zh4FCbYECQAMQC0NpCI40v9terZWP3tC2748-5c0A90KtCx9rUGW1QZ-Wzla7GVS9qiPTkJl7jA_kS1nBoaRd2mj_MY0Eqp9ZE2OyjY_9DerkOAbkYl4BT6-4Vpjvj5RVg6JJWluYtW7zd4tjn9FMY9BZbmVoZuPO2ZDEXSXwKFuZ8Ke_t9sMdgm5ArrssSJitxyPk-HdV0jfCATR17lpw04CKn4GEmJTuAIz4sPf1O5lYPDIAu73Jd1D7o0pktdjSD7Vy0e-GcWi58HrqBGWNwx1pAjlMWnmG-wHthQFsXlNmi_wgS371BiWIOkvCO9zTfbDAOcc4WtFXuhHxPLk5evWI0ce0hWZ-oJGkihPBP0w&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/home/error ?errorId=CfDJ8ACHeJvLkZtNh_je0xQ4gACo44DT0fVjVohN4wNwRQmIVzJDvugCEnevYDOfmTrZ_8wEuYUrAX8IZc4HC9djaxMRVTmBbNdFY5nJKJQL_y22lwdKHGXAbNzLHU2Ew7fsbh1xHVsmaGCe8UhiaTSFZhFnDmYnZSFvaJRImcVirjGyRsBwODWJwfaDgiTG-yqzOT3EHXw79B8aNFuBltaS_gF2CxUOtV3d3j1KAXmVzzQUeJWHAnJgmpBKgmmPT5LkoTvKdtm6kbCHejXed2guwmQS2KBUaXESPQJa1vMng3qaU3XFPq-52uNHa_HQUSqNp450gAp22FsfIarWdEDO9GQ 

[03:35:35 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        

<div class="error-page">
    <div class="lead">
        <h1>Error</h1>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="alert alert-danger">
                Sorry, there was an error

                    <strong>
                        <em>
                            : invalid_request
                        </em>
                    </strong>
                        <div>Invalid redirect_uri</div>
            </div>

                <div class="request-id">Request Id: 0HMAKJ41OBTM4:00000002</div>
        </div>
    </div>
</div>

    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[03:36:41 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[03:36:50 Information] 
Starting host...

[03:36:50 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[03:36:50 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[03:36:50 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[03:36:50 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[03:36:50 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[03:36:50 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[03:36:50 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[03:36:50 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[03:36:50 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[03:36:50 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[03:36:50 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[03:36:50 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[03:36:50 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[03:36:50 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[03:36:50 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[03:36:50 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[03:37:29 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[03:37:29 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[03:37:29 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[03:37:29 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[03:37:29 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[03:37:29 Debug] IdentityServer4.Startup
Error Url: /home/error

[03:37:29 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[03:37:29 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[03:37:29 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[03:37:29 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[03:37:29 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[03:37:29 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[03:37:29 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[03:37:29 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[03:37:29 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[03:37:29 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[03:37:29 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ","UiLocales":null,"Nonce":"637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"awBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0","state":"CfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[03:37:29 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[03:37:29 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=awBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0&code_challenge_method=S256&response_mode=form_post&nonce=637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0&state=CfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[03:37:29 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[03:37:29 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[03:37:29 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[03:37:29 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[03:37:29 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[03:37:29 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[03:37:29 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DawBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[03:37:29 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=awBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gAD1T9p37HDZZAGAV4_3fCTjDmOZ_WM-ZdYDcuv8Mc6fTF0BB3jfGJZNMY5tyKInq6flhzIOOX7yDf4oAZV2CJg396YXsslM4rKg9D6EG7pBr4dmwdsiEqsW2jplsiIUlfw" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DawBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[03:37:37 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[03:37:37 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DawBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DawBpOoZibjJwlZV7rOIzpI7B7bRD_1jRHfZzWBgn5e0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633858490172439.NGZkYjU5OGQtZmE1Yi00MzlhLTlkNDgtZTZkM2UxYTdkY2ZjMjZiMzNiYzMtYzEzYi00NDU0LThmYTItYmNjMjljN2M5MTM0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgt94iv3gbqL9X8qBZ9XTWxJeitsSj1LHQFZkoqs5ZA1oGeMRavlco-bgeGKtEpiRlrMInsESDPsms4jhmhAqyJbc5XRPE0VSmHZm7odvjt2SwXQT8L7NRQTnKMEL5-o6yRdvRBKsaZmQvOAtiSUoxBnD-gt6poi5WSt1nsVU-Poy1UEYZ1dZeZYlna4H9fM4zPRQeUN645gcIrcOylMxcUXGIfgmqjs0tZzRKmsfwkRr8Y7YZpwEiCBHxtui_aCtgW6w_teG3hS9UZnAIEPBvQ8LE-KxToSh6x0MWjA6EI-Hy_gUjunx_cW7iBLWYj5EXcSIk7rsTyS_9MgFbGeydeU59ZEADsjKIklt2ibleBJQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gAD1T9p37HDZZAGAV4_3fCTjDmOZ_WM-ZdYDcuv8Mc6fTF0BB3jfGJZNMY5tyKInq6flhzIOOX7yDf4oAZV2CJg396YXsslM4rKg9D6EG7pBr4dmwdsiEqsW2jplsiIUlfw&RememberLogin=false

[03:37:37 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[03:56:36 Information] 
Starting host...

[03:56:36 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[03:56:36 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[03:56:36 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[03:56:36 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[03:56:36 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[03:56:36 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[03:56:36 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[03:56:36 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[03:56:36 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[03:56:36 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[03:56:36 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[03:56:36 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[03:56:36 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[03:56:36 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[03:56:36 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[03:56:36 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[04:07:58 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[04:07:58 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[04:07:58 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[04:07:58 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[04:07:58 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[04:07:58 Debug] IdentityServer4.Startup
Error Url: /home/error

[04:07:58 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[04:07:58 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[04:07:58 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[04:07:58 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[04:07:58 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration  

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[04:07:59 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[04:07:59 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[04:07:59 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[04:07:59 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration/jwks  

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[04:07:59 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[04:07:59 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[04:07:59 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[04:07:59 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[04:07:59 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[04:07:59 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[04:07:59 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[04:07:59 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[04:07:59 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[04:07:59 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw","UiLocales":null,"Nonce":"637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"loox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4","state":"CfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[04:07:59 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=loox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ&code_challenge_method=S256&response_mode=form_post&nonce=637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4&state=CfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[04:07:59 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[04:07:59 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[04:07:59 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[04:07:59 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[04:07:59 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Dloox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[04:07:59 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=loox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gADqu1J1xRjhXCFxwlz3qXhZmbxa2OQ5PGZQLG8SI-XEySK4ofjoaCfUD3HTqV7zm4aLJ9O56ui60UtLV3bZDQCkAOCfY-s6FMkNqhSxxgIkNyl-tIdpBuaBUtIfCwVDFzA" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Dloox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[04:08:13 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[04:08:13 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Dloox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3Dloox3KPAs1K7t3qTxODt_5wKXDmEM9WuXfjhHKeddWQ%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633876791747884.NWVhNGQ2MTgtYWQ2MS00Mzc2LTlhZGYtYjYxY2IwMDgwNjM5M2M2MDlmOTEtYjg1MS00NzA1LTg0ZjUtNWIwZjY3MjQ1ZTE4%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zgo-GiMjgxez0HD7s15l6AU0jGQOffq-FXH68VazG85njqgYuOWaz-Zu3Qz9Eh1dpx7IlLawZL72EV8LXEtEKuWebaB7kXfl6nZi0jUtc1JPZoBM9LLkgXiix9litmKW7yDjJbiYzdtVHG2AEqQ0OYGGITZEOAXYgcSFb5NaUYHlocVgSqHzjNd2zi_O3RwC2kooopwHh1iviHcHAmjnepsZt_kswOeGb9WcAllerX1asP7AVq9Ygy4eUhzoEtqCCRBHpd4q3lsC_SzB1rj0Lay0PvZv4hIMMroK45hy6_rx291hLku-BEZy_apdcW7Ywfd2zsIbgsTIzZ0Zqf8gp1vDeWQmsyPaZIlNhCR2rUKgw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gADqu1J1xRjhXCFxwlz3qXhZmbxa2OQ5PGZQLG8SI-XEySK4ofjoaCfUD3HTqV7zm4aLJ9O56ui60UtLV3bZDQCkAOCfY-s6FMkNqhSxxgIkNyl-tIdpBuaBUtIfCwVDFzA&RememberLogin=false

[04:08:13 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[04:33:36 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[04:33:36 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[04:33:36 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[04:33:36 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[04:33:36 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[04:33:36 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[04:33:36 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[04:33:36 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[04:33:36 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[04:33:36 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ","UiLocales":null,"Nonce":"637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"mGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5","state":"CfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[04:33:36 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[04:33:36 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=mGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI&code_challenge_method=S256&response_mode=form_post&nonce=637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5&state=CfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[04:33:36 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[04:33:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[04:33:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[04:33:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[04:33:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[04:33:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[04:33:37 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DmGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[04:33:37 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=mGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gAApDuKKnPiWL8wqzHwoZ5Xmv7uBkTWg0_G_cMXpjV6iDoPovU-MuCzcv7VnOVTdBabH_DqoIdhIA0jqGcj7q3cmA64izO8cZOBXAFHvrYnjDHjOLT6CtozUkbQ6GECxseA" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DmGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[04:33:49 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[04:33:49 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DmGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DmGpWvHJp1w-lYdD5nMaz6R8t9dsGHupFrD6d4LJcWVI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633892169768635.MTY3YzgyNWEtODYxMy00ZDVmLThlYmYtNjJlNTFhOTk2NWQyNWU0MzUwZmQtMWU2Ni00N2U3LWIxNjUtYWUzM2EzNjMwY2I5%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zif3Rsfs3ti5n5TOBXxiriDJzTH1t2-gQoCEGpfWE2KBS661WGvKMGpdfKjhhlnWZNq7jGtvBAUJXGflYoykgN0OROcJRFyQVqrjl44WxC6l1mp3KnUPCPflHyfXHL6e5yOU9p6f5PKSlMrE3s5DR9iZ8qILxVp5N0CuwCTIgGRCE0B5nO2BLR1fADanb3x5ko6OlcfoBU2JZjtxD32V3iZbkUcGo6O50Iw9SMJ6FLWnwEV4WMrGpjg3fSuhFukqgP5fNmeQKU-Gl3bvaQ_FTSfXZ24ApKOJ_5qjIO7p1JlMpj3hPQVhTmbHYPSR7lPIQX3VNH3ZPSd9FuvUY8wUKTTAqU7MXCPKAU8Hs2EVmyHCQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gAApDuKKnPiWL8wqzHwoZ5Xmv7uBkTWg0_G_cMXpjV6iDoPovU-MuCzcv7VnOVTdBabH_DqoIdhIA0jqGcj7q3cmA64izO8cZOBXAFHvrYnjDHjOLT6CtozUkbQ6GECxseA&RememberLogin=false

[04:33:49 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[04:58:01 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[04:58:20 Information] 
Starting host...

[04:58:20 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[04:58:20 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[04:58:20 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[04:58:20 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[04:58:20 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[04:58:20 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[04:58:20 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[04:58:20 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[04:58:20 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[04:58:20 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[04:58:20 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[04:58:20 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[04:58:20 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[04:58:20 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[04:58:20 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[04:58:20 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:00:05 Information] 
Starting host...

[05:00:05 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:00:05 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:00:05 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:00:05 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:00:05 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:00:05 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:00:05 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:00:05 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:00:05 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:00:05 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:00:05 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:00:05 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:00:05 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:00:05 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:00:05 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:00:05 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:00:37 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[05:00:37 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[05:00:37 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[05:00:37 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[05:00:37 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[05:00:37 Debug] IdentityServer4.Startup
Error Url: /home/error

[05:00:37 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[05:00:37 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[05:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[05:00:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[05:00:38 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration  

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"issuer":"http://localhost","jwks_uri":"http://idp:5006/.well-known/openid-configuration/jwks","authorization_endpoint":"http://idp:5006/connect/authorize","token_endpoint":"http://idp:5006/connect/token","userinfo_endpoint":"http://idp:5006/connect/userinfo","end_session_endpoint":"http://idp:5006/connect/endsession","check_session_iframe":"http://idp:5006/connect/checksession","revocation_endpoint":"http://idp:5006/connect/revocation","introspection_endpoint":"http://idp:5006/connect/introspect","device_authorization_endpoint":"http://idp:5006/connect/deviceauthorization","frontchannel_logout_supported":true,"frontchannel_logout_session_supported":true,"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"scopes_supported":["openid","profile","Starter.Api","offline_access"],"claims_supported":["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at"],"grant_types_supported":["authorization_code","client_credentials","refresh_token","implicit","password","urn:ietf:params:oauth:grant-type:device_code"],"response_types_supported":["code","token","id_token","id_token token","code id_token","code token","code id_token token"],"response_modes_supported":["form_post","query","fragment"],"token_endpoint_auth_methods_supported":["client_secret_basic","client_secret_post"],"id_token_signing_alg_values_supported":["RS256"],"subject_types_supported":["public"],"code_challenge_methods_supported":["plain","S256"],"request_parameter_supported":true}

[05:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[05:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[05:00:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[05:00:38 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http idp:5006/.well-known/openid-configuration/jwks  

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: {"keys":[{"kty":"RSA","use":"sig","kid":"85E7700288E9AB2DA8BE808BA2DFFE6C","e":"AQAB","n":"4tSGBIRf8Ogmm5SE5vKfKIfrUe624SUQdhyEjSf4NadZYkvlBse2Ap-kqCcypmy5fGGJZMH3u7juX1h1qOBT6T0rRVdIrUwUuH6JtjI8egy9C-zvMcQaLZYKiU43YHXWllW6CcExRZxYFntBp-cz7HELpvmj5TmW_7zK8C-436aI5lxpH8a1QwevX0muLka1PJDpMoqhIRgyF2s-9_bR_wL6YjDgYnzmew2wyueB5y1taL-2LTLjUO9nX2BfQXuNvEs2MKCHqwvvOahvRZP7_0uKykVcYyrEDbVJ_T1VvFJ5-ElB68CdZOiFRZs7Q6lOdih_U17qGclOwNXpieJ8_Q","alg":"RS256"}]}

[05:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[05:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[05:00:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[05:00:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[05:00:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[05:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:00:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:00:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw","UiLocales":null,"Nonce":"637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"riCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx","state":"CfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[05:00:38 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=riCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY&code_challenge_method=S256&response_mode=form_post&nonce=637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx&state=CfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[05:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:00:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:00:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:00:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=riCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gAAZdm56IpWwRNZmt2pIxWumyLk0Fg2jKEJJ-C_0a1ePKB_padxpSD9a85h1TXt2R-a2bW3wdSdYqd5V-vxgTXqxwkKHa1zlAgxrf3s4CytXVSCfMCVixAovrD11BzCyQIA" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:00:50 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[05:00:50 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gAAZdm56IpWwRNZmt2pIxWumyLk0Fg2jKEJJ-C_0a1ePKB_padxpSD9a85h1TXt2R-a2bW3wdSdYqd5V-vxgTXqxwkKHa1zlAgxrf3s4CytXVSCfMCVixAovrD11BzCyQIA&RememberLogin=false

[05:00:50 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[05:08:08 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[05:08:52 Information] 
Starting host...

[05:08:52 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:08:52 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:08:52 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:08:52 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:08:52 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:08:52 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:08:52 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:08:52 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:08:52 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:08:52 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:08:52 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:08:52 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:08:52 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:08:52 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:08:52 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:08:52 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:09:04 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[05:09:04 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[05:09:04 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[05:09:04 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[05:09:04 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[05:09:04 Debug] IdentityServer4.Startup
Error Url: /home/error

[05:09:04 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[05:09:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:09:04 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:09:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:09:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:09:04 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:09:05 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:09:05 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=riCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gADcybdNN3ocAkWLTiN5O4RzBauJvVWDuHVVsE_5IWxv1P3D3U_ygNaOEwTWDT7_ccgIYJJs5oWRSkqjAyANDfy7QG-jvCwVykuJUCDcPFmYqkYov40FIyZfY1Kd0IjrSew" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:09:18 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[05:09:18 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DriCuBLMd5wqcYLY19Hdlth903aMx5QtYQytYaYDEbRY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633908384120547.NmY4MmYyZDAtNDEzYi00YWEwLWI5ZGMtNTFmZmI5NWRkYzg2NTY4MTgzODAtOWMzZC00ZDcyLThhMjktZWQyODc4N2UzZmUx%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1Zi3Fa_AHCdbTVCVJsR-d_Ajz6s37FOwE8q0CsdddTcGpBhImiwdMJggHmfVI30lKR1nA97ZHredeQMEGCbH_d_bNwbKUKSy6XYpDh6WgKhbPh0TcOglells_AMtF3dqukFE2U-hmUOBLUsEQFTs0dDZWJxmHLkI4RBMjbcHlW88GiwXpifEFRe9A9uRbgYjV461EM2m8TjnRho4whmRcAiiWsuRuFChd7GaMnW55pHOaXFkPKEdSZV_hi11LD0ekZRGxhDgjIjhKgX3uprHXXSysPt3pcxCg0LehvqcV4tWTotH4zYyE1-uMIo8Jod5c1NVKfd8P1JbGeWLE7pXXTlMA_j4Zj0qX5LL45FlO1Ocuw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=alice&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gADcybdNN3ocAkWLTiN5O4RzBauJvVWDuHVVsE_5IWxv1P3D3U_ygNaOEwTWDT7_ccgIYJJs5oWRSkqjAyANDfy7QG-jvCwVykuJUCDcPFmYqkYov40FIyZfY1Kd0IjrSew&RememberLogin=false

[05:09:18 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[05:11:45 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[05:12:01 Information] 
Starting host...

[05:12:01 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:12:01 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:12:01 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:12:01 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:12:01 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:12:01 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:12:01 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:12:01 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:12:01 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:12:01 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:12:01 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:12:01 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:12:01 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:12:01 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:12:01 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:12:01 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:12:25 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[05:12:25 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[05:12:25 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[05:12:25 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[05:12:25 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[05:12:25 Debug] IdentityServer4.Startup
Error Url: /home/error

[05:12:25 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[05:12:25 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[05:12:25 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[05:12:25 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[05:12:25 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[05:12:25 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[05:12:26 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:12:26 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:12:26 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:12:26 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:12:26 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ","UiLocales":null,"Nonce":"637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"A8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[05:12:26 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[05:12:26 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=A8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI&code_challenge_method=S256&response_mode=form_post&nonce=637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj&state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[05:12:26 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[05:12:26 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:12:26 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:12:26 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:12:26 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:12:26 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:12:26 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:12:26 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=A8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gADn2L0s51lwPJkahxFeRzkn9zg3EI1JRv1bRmKIBSDxn-D3RpWvIULKIh1t2DFeVxViZy3g-XgtXFxmMn0IwpadPGPbn4nUhCUtVO7C8T_UxnQ6RFTtKJ1Q5k4ziHEK2Yw" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:12:38 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[05:12:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gADn2L0s51lwPJkahxFeRzkn9zg3EI1JRv1bRmKIBSDxn-D3RpWvIULKIh1t2DFeVxViZy3g-XgtXFxmMn0IwpadPGPbn4nUhCUtVO7C8T_UxnQ6RFTtKJ1Q5k4ziHEK2Yw&RememberLogin=false

[05:12:38 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[05:13:26 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[05:13:39 Information] 
Starting host...

[05:13:39 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:13:40 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:13:40 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:13:40 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:13:40 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:13:40 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:13:40 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:13:40 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:13:40 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:13:40 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:13:40 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:13:40 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:13:40 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:13:40 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:13:40 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:13:40 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:13:54 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[05:13:54 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[05:13:54 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[05:13:54 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[05:13:54 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[05:13:54 Debug] IdentityServer4.Startup
Error Url: /home/error

[05:13:54 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[05:13:54 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:13:54 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:13:54 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:13:54 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:13:54 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:13:54 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:13:54 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=A8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gACAJaiGQNhMOubsBBSHaG3NItjilceGiW-Nvi_nJvtA5eawPzfCe7hgEyPvN14iG6H7P19IbgMB2W9_3WuLW1M3dyrmJyG3URwS_yq1kbVbzm8POsKDOFpj28-9eJoSM8s" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:14:06 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[05:14:06 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DA8efZ51VfvtlW4gFtlqWg2N_yzijjCMA-FOTBhFtBDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633915452474683.ZjM5MjdhNmQtYzM2Yy00ZGNkLWEyNGUtY2UxNWQ0OGViMmQxZWZjODBjOGYtOWExZS00Y2I4LWExOTYtMTBiNjVmMjE4ZGVj%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhI2H6fGL-nVpS_JpyJYQhvH9Bc1jFzfhdg72Yxs_ilxLHSi3acPtB0SKEOLGjPoTRXEpyJMiDw3Slk1pG21l_k2PQlsJcGO9IdbNO9cMg9CiQ4HTNNGSppqw81wqGXZ9AgCWCwxbAdDpAboJpuuv_pRRNyhzLVvcRvzpFOiX3wr8cXG7MCHNwLfl3uqeNKwiqh0OfjpOLEBkJgfpYZXgMGwyZnMOl1j-Lgo2O5SskoMppO5Afpg6V4Ad7wke9uw_LCmQqAVgr7xVZVxAzkA9TfbiWN15ghrokNnewcyRxUFFAUEKCfRHRV-Zz4kxZ1CfjwzY0SRJb6kLmMfkJFsUi40JGB7eA6sEQLr_t6g09LVQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gACAJaiGQNhMOubsBBSHaG3NItjilceGiW-Nvi_nJvtA5eawPzfCe7hgEyPvN14iG6H7P19IbgMB2W9_3WuLW1M3dyrmJyG3URwS_yq1kbVbzm8POsKDOFpj28-9eJoSM8s&RememberLogin=false

[05:14:06 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[05:14:43 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[05:15:00 Information] 
Starting host...

[05:15:00 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:15:00 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:15:00 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:15:00 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:15:00 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:15:00 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:15:00 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:15:00 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:15:00 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:15:00 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:15:00 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:15:00 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:15:00 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:15:00 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:15:00 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:15:00 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:15:10 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[05:15:10 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[05:15:10 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[05:15:10 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[05:15:10 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[05:15:10 Debug] IdentityServer4.Startup
Error Url: /home/error

[05:15:10 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[05:15:10 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[05:15:11 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[05:15:11 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[05:15:11 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[05:15:11 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[05:15:11 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:15:11 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:15:11 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:15:11 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:15:11 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA","UiLocales":null,"Nonce":"637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"wGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[05:15:11 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[05:15:11 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=wGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY&code_challenge_method=S256&response_mode=form_post&nonce=637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0&state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[05:15:11 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[05:15:11 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:15:11 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:15:11 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:15:11 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:15:11 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:15:11 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DwGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:15:11 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=wGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gACxQ1YDYC4H4yu5TFdtwkENKZoxIlQNgjuiQXMRW03gR0Iwq5C9A9L1ofgI4tL_dWhQdFDw_BcJZtbnneSUnCreJRMkwV67MZFHdNcYpYhBwFoUHENCtU4bIc_lZz4nwmE" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DwGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:15:25 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[05:15:25 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DwGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DwGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gACxQ1YDYC4H4yu5TFdtwkENKZoxIlQNgjuiQXMRW03gR0Iwq5C9A9L1ofgI4tL_dWhQdFDw_BcJZtbnneSUnCreJRMkwV67MZFHdNcYpYhBwFoUHENCtU4bIc_lZz4nwmE&RememberLogin=false

[05:15:25 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[05:24:27 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[05:24:52 Information] 
Starting host...

[05:24:52 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:24:52 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:24:52 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:24:52 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:24:52 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:24:52 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:24:52 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:24:52 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:24:52 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:24:52 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:24:52 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:24:52 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:24:52 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:24:52 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:24:52 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:24:52 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:25:27 Information] 
Starting host...

[05:25:27 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:25:27 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:25:27 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:25:27 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:25:27 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:25:27 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:25:27 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:25:27 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:25:27 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:25:27 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:25:27 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:25:28 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:25:28 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:25:28 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:25:28 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:25:28 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[05:26:02 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[05:26:02 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[05:26:02 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[05:26:02 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[05:26:02 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[05:26:02 Debug] IdentityServer4.Startup
Error Url: /home/error

[05:26:02 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[05:26:02 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:26:02 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:26:02 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:26:02 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:26:02 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:26:02 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DwGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:26:02 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=wGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gAD0Xb5wd7S9eosNFhVpJVV07pLO5lpOqKMbnIwUUVatHA_zs9vpy6KjXlqS907dXNth21dB8rEO2gnri4MX8z3SoB-rjMuyxHFexjj3yDrbwTcZsbqLB9go3Xcr9eDFzW0" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DwGcxOIVaqFXnwXjnBRv8Td_zf9QJmJUt9nDqE96gXcY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633917104052426.Yjg1MjZkNjUtNzhiYS00YmQ4LWE5OTctY2I0ODM0ZGY5ODIzMzk5NjBmNjAtMjA3OS00N2M5LTk5ODUtOWUwYmI1Nzg1MDg0%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZhXGbye5veJH_HSvx2FylPI17TgIhW8yzCHRuq1HA3FVFLHbKuje_sjqlF_AR8upuInB6Xhmso5SMqeYsZq7nGn0ha6og0cAQB6AikF2hQ-R4ZgE4RcIuWbuaMjG-5GPAfniyqva420mgZDski71QSCmP20nnPAK_JWyoWhX_sNz1qrur931kcBBzavFJdkQowXaCevrTXuJO2-MPJKbbHmRLTYdFB6yWosfG0akKMA7VDwNO4AQu7KH7HJZQ1-DnRBuYTxooV0igu1giAa2RfjfGOZgyYQ536WhhaIG01LphyJNzuF2KvsKijtwlaSB2Q1yTYiPcbUaLjfLTN9EjdGzKvMqp2MOs_KVu8LS0MFIA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:26:09 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[05:26:09 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[05:26:09 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[05:26:09 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[05:26:09 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[05:26:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:26:09 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:26:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:26:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:26:09 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"starter.bff","ClientName":null,"RedirectUri":"http://localhost/signin-oidc","AllowedRedirectUris":["http://localhost/signin-oidc","http://bff:5004/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api","State":"CfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw","UiLocales":null,"Nonce":"637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"starter.bff","redirect_uri":"http://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api","code_challenge":"asZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA","code_challenge_method":"S256","response_mode":"form_post","nonce":"637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi","state":"CfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}

[05:26:09 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[05:26:09 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/connect/authorize ?client_id=starter.bff&redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api&code_challenge=asZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA&code_challenge_method=S256&response_mode=form_post&nonce=637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi&state=CfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0 

[05:26:09 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 302: 

[05:26:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[05:26:09 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:26:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[05:26:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[05:26:09 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client starter.bff succeeded.

[05:26:09 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DasZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 

[05:26:09 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 200: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <title>IdentityServer4</title>
    
    <link rel="icon" type="image/x-icon" href="/idp/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/idp/favicon.ico" />
    
    <link rel="stylesheet" href="/idp/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/idp/css/site.css" />
</head>
<body>
    

<div class="nav-page">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">

        <a href="/" class="navbar-brand">
            <img src="/icon.png" class="icon-banner">
            IdentityServer4
        </a>

    
    </nav>
</div>

   
    <div class="container body-container">
        
<div class="login-page">
    <div class="lead">
        <h1>Login</h1>
        <p>Choose how to login</p>
    </div>

    

    <div class="row">

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>Local Account</h2>
                    </div>

                    <div class="card-body">
                        <form action="" method="post">
                            <input type="hidden" id="ReturnUrl" name="ReturnUrl" value="/connect/authorize/callback?client_id=starter.bff&amp;redirect_uri=http%3A%2F%2Flocalhost%2Fsignin-oidc&amp;response_type=code&amp;scope=openid%20profile%20Starter.Api&amp;code_challenge=asZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA&amp;code_challenge_method=S256&amp;response_mode=form_post&amp;nonce=637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi&amp;state=CfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw&amp;x-client-SKU=ID_NETSTANDARD2_0&amp;x-client-ver=5.5.0.0" />

                            <div class="form-group">
                                <label for="Username">Username</label>
                                <input class="form-control" placeholder="Username" autofocus type="text" data-val="true" data-val-required="The Username field is required." id="Username" name="Username" value="">
                            </div>
                            <div class="form-group">
                                <label for="Password">Password</label>
                                <input type="password" class="form-control" placeholder="Password" autocomplete="off" data-val="true" data-val-required="The Password field is required." id="Password" name="Password">
                            </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" data-val="true" data-val-required="The RememberLogin field is required." id="RememberLogin" name="RememberLogin" value="true">
                                        <label class="form-check-label" for="RememberLogin">
                                            Remember My Login
                                        </label>
                                    </div>
                                </div>
                            <button class="btn btn-primary" name="button" value="login">Login</button>
                            <button class="btn btn-secondary" name="button" value="cancel">Cancel</button>
                        <input name="__RequestVerificationToken" type="hidden" value="CfDJ8ACHeJvLkZtNh_je0xQ4gAD16hZs7TUmjTF-LReFt73y5CKoA0mZ2DC6dQTWkllYeuJt0R2umKj-0YvBbLzBJFT5t23jTdGLzmXbLpAdM2sWwp4HFlL3joKgPSpvKwgHkSb3Ye8aQ92Vsdt-c_c6P58" /><input name="RememberLogin" type="hidden" value="false"></form>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        <h2>External Account</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-inline">
                                <li class="list-inline-item">
                                    <a class="btn btn-secondary" href="/External/Challenge?scheme=Google&amp;returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DasZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0">
                                        Google
                                    </a>
                                </li>
                        </ul>
                    </div>
                </div>
            </div>

    </div>
</div>
    </div>

    <script src="/idp/lib/jquery/dist/jquery.slim.min.js"></script>
    <script src="/idp/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    
</body>
</html>


[05:26:18 Debug] IdentityServer4.Hosting.CorsPolicyProvider
CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint

[05:26:18 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Request http localhost/Account/Login ?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DasZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dstarter.bff%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%26code_challenge%3DasZo4VJ2TfB_Nuyl2Rj1Y5HlKi8N8ybr_lOlw8uf4dA%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637633923693362444.ZTllOGRhYjEtMTE5Yi00ZjNlLTg4OWQtYjNiYzVkNThkODRmNDk4ZGYxNjQtMTU5YS00ZjViLTkyZTMtMzI5YzFiZjI3MWRi%26state%3DCfDJ8PWnubQLTIhEr3sc3KKO1ZgeNG-fsnZ82pHr4Tttr9pEjQfVhjfIH5CYzk7XdzFoeY4C77tvGBpiea6twHyP1mYOoI15wa1Z6MVvCWmpXf3ZNOdZsq2U-S8p9c-yi8v9yV4pbTQlmqbo6uYBnWG2eHcn5WacZdTkJ1z48xSKLx9_SgSOxN3MWQ_7K2b-2hTghmqWeJBHgNS22-a22zyzZ_MQcmmj8W87ySXrcdQ3ZIReHj1bs2CcbZFFlPiv_IUbHQ7_NDU5fJ2MkolUdRxRdo-eGT5H1BG_Z687J5C-FL7vGFXqNEJZk86e1aZYtpu_eMlxqjXcgpNAK_Lcnsk7_c7vZWoEyoUZbw75QBGx0gBbCcTOjtttKQ9uwVwXIIASRw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0&Username=bob&Password=Pass123%24&button=login&__RequestVerificationToken=CfDJ8ACHeJvLkZtNh_je0xQ4gAD16hZs7TUmjTF-LReFt73y5CKoA0mZ2DC6dQTWkllYeuJt0R2umKj-0YvBbLzBJFT5t23jTdGLzmXbLpAdM2sWwp4HFlL3joKgPSpvKwgHkSb3Ye8aQ92Vsdt-c_c6P58&RememberLogin=false

[05:26:18 Debug] Starter.Idp.Custom.RequestResponseLoggingMiddleware
Response 400: 

[05:27:16 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[05:27:36 Information] 
Starting host...

[05:27:36 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[05:27:37 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[05:27:37 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[05:27:37 Debug] IdentityServer4.Startup
Custom IssuerUri set to http://localhost

[05:27:37 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[05:27:37 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[05:27:37 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[05:27:37 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[05:27:37 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[05:27:37 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[05:27:37 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[05:27:37 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[05:27:37 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[05:27:37 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[05:27:37 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[05:27:37 Information] Microsoft.Hosting.Lifetime
Content root path: /app


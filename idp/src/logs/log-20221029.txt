[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE&code_challenge_method=S256&response_mode=form_post&nonce=638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3&state=CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:00:38 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:38 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[00:00:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[00:00:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[00:00:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[00:00:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[00:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:00:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:00:38 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA","UiLocales":null,"Nonce":"638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE","code_challenge_method":"S256","response_mode":"form_post","nonce":"638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3","state":"CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[00:00:38 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE&code_challenge_method=S256&response_mode=form_post&nonce=638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3&state=CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 22.6151ms

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DPCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - -

[00:00:38 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:38 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:38 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:00:38 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:00:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:00:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:00:38 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:00:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:38 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view Login.

[00:00:38 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view Login executed in 2.2087ms.

[00:00:38 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 7.1782ms

[00:00:38 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DPCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - - - 200 - text/html;+charset=utf-8 12.7648ms

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[00:00:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 31.8022ms

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[00:00:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 16.9976ms

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[00:00:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 26.0772ms

[00:00:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 18.0860ms

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[00:00:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 40.4298ms

[00:00:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[00:00:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 73.9640ms

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DPCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198

[00:00:43 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:43 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:00:43 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Starter.Idp.Models.Account.LoginInputModel, System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:00:43 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:00:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:00:43 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[00:00:43 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding idp claim with value: local

[00:00:43 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding auth_time claim with value: 1667001643

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[00:00:43 Information] IdentityServer4.Events.DefaultEventService
{"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"4","DisplayName":"bob","Endpoint":"UI","ClientId":"Starter.Bff","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMLP7IIHD8AB:00000002","TimeStamp":"2022-10-29T00:00:43.0000000Z","ProcessId":149,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLoginSuccessEvent"}

[00:00:43 Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor
Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE&code_challenge_method=S256&response_mode=form_post&nonce=638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3&state=CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0.

[00:00:43 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 70.2505ms

[00:00:43 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DPCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198 - 302 0 - 75.1465ms

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE&code_challenge_method=S256&response_mode=form_post&nonce=638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3&state=CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:00:43 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:43 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:00:43 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize/callback matched to endpoint type Authorize

[00:00:43 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint

[00:00:43 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback

[00:00:43 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Start authorize callback request

[00:00:43 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
User in authorize request: 4

[00:00:43 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:00:43 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:00:43 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"4","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA","UiLocales":null,"Nonce":"638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"4654A4EB819F5809B1871CDF0DA6CDD8","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE","code_challenge_method":"S256","response_mode":"form_post","nonce":"638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3","state":"CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[00:00:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:00:43 Debug] IdentityServer4.Services.DefaultConsentService
Client is configured to not require consent, no consent is required

[00:00:43 Debug] IdentityServer4.ResponseHandling.AuthorizeResponseGenerator
Creating Authorization Code Flow response.

[00:00:43 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","Endpoint":"Authorize","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****1697","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP7IIHD8AC:00000002","TimeStamp":"2022-10-29T00:00:43.0000000Z","ProcessId":149,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"TokenIssuedSuccessEvent"}

[00:00:43 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Authorize endpoint response
{"SubjectId":"4","ClientId":"Starter.Bff","RedirectUri":"https://localhost/signin-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA","Scope":"openid profile Starter.Api offline_access","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}

[00:00:43 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[00:00:43 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=PCxCxSIkzHdeQ8TdZD573nq_QWECCplYNGICfClAthE&code_challenge_method=S256&response_mode=form_post&nonce=638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3&state=CfDJ8NlCXmldZLBHsAViIel-sLxgjrb7j6R3ypthwmZfo913qwpbL40L16EaDkkTmSGJw_I2I1EyeiL0RB1SZYldXKCfMOqRk2f13igiJ3Rchzvhh1G6sNUYDmhClOa0Vk5NfvI8Lhge6c7qn0b23pe2gOlbSirqcV9ln8KY3GOAh1awaeDNC8InnGqHIfndtXNlvMLHLPNt2XlTGoKQi0w4z_5vnqm7FmbevXZBrlPl-O9XQphZOrEa8lKLga0-0uHrs5KgfkT1teFo-JJ5pbb6ZU8NXBmcHKxg7Kc68Q-UC-reY9BIh_VtERMJvzWvLaESZNrrfJFJBGc3Z_DzDaycvcI9-i4H1ekv0oiu6IVwWR3tZJrHBjN65Oiwq6L6mC1jaVYyWQPrNtzQ5vLQtiXI6WA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 200 - text/html;+charset=UTF-8 12.1691ms

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/token matched to endpoint type Token

[00:00:43 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint

[00:00:43 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token

[00:00:43 Debug] IdentityServer4.Endpoints.TokenEndpoint
Start token request.

[00:00:43 Debug] IdentityServer4.Validation.ClientSecretValidator
Start client validation

[00:00:43 Debug] IdentityServer4.Validation.BasicAuthenticationSecretParser
Start parsing Basic Authentication secret

[00:00:43 Debug] IdentityServer4.Validation.PostBodySecretParser
Start parsing for secret in post body

[00:00:43 Debug] IdentityServer4.Validation.ISecretsListParser
Parser found secret: PostBodySecretParser

[00:00:43 Debug] IdentityServer4.Validation.ISecretsListParser
Secret id found: Starter.Bff

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Debug] IdentityServer4.Validation.ISecretsListValidator
Secret validator success: HashedSharedSecretValidator

[00:00:43 Debug] IdentityServer4.Validation.ClientSecretValidator
Client validation success

[00:00:43 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMLP7IIHD8AD:00000002","TimeStamp":"2022-10-29T00:00:43.0000000Z","ProcessId":149,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"ClientAuthenticationSuccessEvent"}

[00:00:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Start token request validation

[00:00:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Start validation of authorization code token request

[00:00:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Client required a proof key for code exchange. Starting PKCE validation

[00:00:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:00:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Validation of authorization code token request success

[00:00:43 Information] IdentityServer4.Validation.TokenRequestValidator
Token request validation success, {"ClientId":"Starter.Bff","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****1697","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"Starter.Bff","client_secret":"***REDACTED***","code":"6553734955FDDD03BABEAA2B83E45C569FD25DC8DA8F14E9CD529C17B30F1697","grant_type":"authorization_code","redirect_uri":"https://localhost/signin-oidc","code_verifier":"E4AJ53_4oI66IRCD2tybJUR9H1wn0P4nYP6jrHQvCCc"},"$type":"TokenRequestValidationLog"}

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for client: Starter.Bff

[00:00:43 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for subject: 4

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:00:43 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Creating refresh token

[00:00:43 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Setting an absolute lifetime: 2592000

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for identity token for subject: 4 and client: Starter.Bff

[00:00:43 Debug] IdentityServer4.Services.DefaultClaimsService
In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.

[00:00:43 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****pUZQ","$type":"Token"},{"TokenType":"refresh_token","TokenValue":"****C673","$type":"Token"},{"TokenType":"access_token","TokenValue":"****wFbA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP7IIHD8AD:00000002","TimeStamp":"2022-10-29T00:00:43.0000000Z","ProcessId":149,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"TokenIssuedSuccessEvent"}

[00:00:43 Debug] IdentityServer4.Endpoints.TokenEndpoint
Token request success.

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251 - 200 - application/json;+charset=UTF-8 37.2643ms

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:43 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[00:00:43 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[00:00:43 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[00:00:43 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[00:00:43 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:00:43 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:00:43 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"6B8321CF05FC5062722152AC558022EC","Claims":{"nbf":1667001643,"exp":1667005243,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667001643,"idp":"local","jti":"6B8321CF05FC5062722152AC558022EC","sid":"4654A4EB819F5809B1871CDF0DA6CDD8","iat":1667001643,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[00:00:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[00:00:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[00:00:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:00:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:00:43 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[00:00:43 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[00:00:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 28.1543ms

[00:00:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[00:00:44 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:44 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:44 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[00:00:44 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[00:00:44 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[00:00:44 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[00:00:44 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[00:00:44 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:44 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:44 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:00:44 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:00:44 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:00:44 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"6B8321CF05FC5062722152AC558022EC","Claims":{"nbf":1667001643,"exp":1667005243,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667001643,"idp":"local","jti":"6B8321CF05FC5062722152AC558022EC","sid":"4654A4EB819F5809B1871CDF0DA6CDD8","iat":1667001643,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[00:00:44 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[00:00:44 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[00:00:44 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[00:00:44 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:00:44 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:00:44 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[00:00:44 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[00:00:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 22.7909ms

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDE2NDMsImV4cCI6MTY2NzAwMTk0MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI1OTg0MzgwMTI5Njg0Lk1HSXhPRE15T1RjdE1tSXpPQzAwWlRjM0xUaG1NekV0WVRaa1pEazVNV015T1dRelpUWXlaVFV6TjJZdFlqWTROUzAwWkRWaExXRTNOMkl0WldWbE5qY3dOekF6TXpjMyIsImlhdCI6MTY2NzAwMTY0MywiYXRfaGFzaCI6IkVEZHl5UGlwS2Nsa2ZONlg1T29SdmciLCJzX2hhc2giOiJvUVVYSTFpaVFXWV8zVHFIY25qVVlRIiwic2lkIjoiNDY1NEE0RUI4MTlGNTgwOUIxODcxQ0RGMERBNkNERDgiLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDAxNjQzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.MgRU1HS7lYr9caR3zIEDlkSkIEuci2-L9zntvhklbcYy1pfGc1WC31IZ_FRM5_lCthW8wddQJuVXRRiKxsMXwQdIwq2pMAqzf3dl1PyE3koakOMQW1zXk5pFJPp104JknzSyaYVv0nNSDIbnDR9a5s87CHFSeHIveftBZ3UZaBTq4JXBBAdeI-cufilt1U2nD1urH3orK97g66nlRdRXJRsyYHXPC4XZZJnXY9Ve5i0wyqp8HS0ou962u5C-6gXZ4g2OiV5JsQxG8yV7JE6znTr8uo_1ECIonezjV_UGhfwOe7iUCJURFrA2YL9AcVbGfQGAYD61XlBkrbZpVLpUZQ&state=CfDJ8NlCXmldZLBHsAViIel-sLxBzvhZzo4LZEvwMTmHHAnshM5cSh0KgyrTJqQfKSjCatPE8f1ZStV4alG4bz-H6q_bgcriok_kD6kD4d7Jr8WNe4dIl_zAn2j8iy0FJkWI7SuaUj-_nCjmnpfOG7N-PIsOtFw9Exv4TxgR_4eKk2TN&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:00:46 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:46 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:46 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:00:46 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:00:46 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession matched to endpoint type Endsession

[00:00:46 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint

[00:00:46 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession

[00:00:46 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Processing signout request for 4

[00:00:46 Debug] IdentityServer4.Validation.EndSessionRequestValidator
Start end session request validation

[00:00:46 Debug] IdentityServer4.Validation.TokenValidator
Start identity token validation

[00:00:46 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:46 Debug] IdentityServer4.Validation.TokenValidator
Client found: Starter.Bff / null

[00:00:46 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:00:46 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":"Starter.Bff","ClientName":null,"ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1667001643,"exp":1667001943,"iss":"https://localhost","aud":"Starter.Bff","nonce":"638025984380129684.MGIxODMyOTctMmIzOC00ZTc3LThmMzEtYTZkZDk5MWMyOWQzZTYyZTUzN2YtYjY4NS00ZDVhLWE3N2ItZWVlNjcwNzAzMzc3","iat":1667001643,"at_hash":"EDdyyPipKclkfN6X5OoRvg","s_hash":"oQUXI1iiQWY_3TqHcnjUYQ","sid":"4654A4EB819F5809B1871CDF0DA6CDD8","sub":"4","auth_time":1667001643,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}

[00:00:46 Information] IdentityServer4.Validation.EndSessionRequestValidator
End session request validation success
{"ClientId":"Starter.Bff","ClientName":null,"SubjectId":"4","PostLogOutUri":"https://localhost/signout-callback-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLxBzvhZzo4LZEvwMTmHHAnshM5cSh0KgyrTJqQfKSjCatPE8f1ZStV4alG4bz-H6q_bgcriok_kD6kD4d7Jr8WNe4dIl_zAn2j8iy0FJkWI7SuaUj-_nCjmnpfOG7N-PIsOtFw9Exv4TxgR_4eKk2TN","Raw":{"post_logout_redirect_uri":"https://localhost/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8NlCXmldZLBHsAViIel-sLxBzvhZzo4LZEvwMTmHHAnshM5cSh0KgyrTJqQfKSjCatPE8f1ZStV4alG4bz-H6q_bgcriok_kD6kD4d7Jr8WNe4dIl_zAn2j8iy0FJkWI7SuaUj-_nCjmnpfOG7N-PIsOtFw9Exv4TxgR_4eKk2TN","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"EndSessionRequestValidationLog"}

[00:00:46 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Success validating end session request from Starter.Bff

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDE2NDMsImV4cCI6MTY2NzAwMTk0MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI1OTg0MzgwMTI5Njg0Lk1HSXhPRE15T1RjdE1tSXpPQzAwWlRjM0xUaG1NekV0WVRaa1pEazVNV015T1dRelpUWXlaVFV6TjJZdFlqWTROUzAwWkRWaExXRTNOMkl0WldWbE5qY3dOekF6TXpjMyIsImlhdCI6MTY2NzAwMTY0MywiYXRfaGFzaCI6IkVEZHl5UGlwS2Nsa2ZONlg1T29SdmciLCJzX2hhc2giOiJvUVVYSTFpaVFXWV8zVHFIY25qVVlRIiwic2lkIjoiNDY1NEE0RUI4MTlGNTgwOUIxODcxQ0RGMERBNkNERDgiLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDAxNjQzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.MgRU1HS7lYr9caR3zIEDlkSkIEuci2-L9zntvhklbcYy1pfGc1WC31IZ_FRM5_lCthW8wddQJuVXRRiKxsMXwQdIwq2pMAqzf3dl1PyE3koakOMQW1zXk5pFJPp104JknzSyaYVv0nNSDIbnDR9a5s87CHFSeHIveftBZ3UZaBTq4JXBBAdeI-cufilt1U2nD1urH3orK97g66nlRdRXJRsyYHXPC4XZZJnXY9Ve5i0wyqp8HS0ou962u5C-6gXZ4g2OiV5JsQxG8yV7JE6znTr8uo_1ECIonezjV_UGhfwOe7iUCJURFrA2YL9AcVbGfQGAYD61XlBkrbZpVLpUZQ&state=CfDJ8NlCXmldZLBHsAViIel-sLxBzvhZzo4LZEvwMTmHHAnshM5cSh0KgyrTJqQfKSjCatPE8f1ZStV4alG4bz-H6q_bgcriok_kD6kD4d7Jr8WNe4dIl_zAn2j8iy0FJkWI7SuaUj-_nCjmnpfOG7N-PIsOtFw9Exv4TxgR_4eKk2TN&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 16.7532ms

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DGKVXVSn1z6S1jcdY_441B2HkDQGnnUQSP9FNzozM4V6Mmq2Wk4LcGEaCHklq5vzJpCwI5bsbZtOd6zcuI2C-RxOMlV6XSEdJkcDLfXbh5aF7ZXt8CwSQwXq1GyTUXa7rU5-I0Z4KbFT-I1PJCoShWYOr3JBYQI3rlKTO9ClQjVEDXo4OHJuEIrxB-4o6wGcpj0HnUbzsHhkm9DfU2rqcedLiKtgGrNKyX42v1CCXDFunwqna1JNP2QMgE8Di_KRg9hJZcNAFcCYJY9iexf0N8sTztLhdCQDS69saf-JILa4ypGYQD4hPxcLwe3hNsICW5k3FCP8Rj77Bh1iJ0tQW_fyWeKtji43jpLvZOAEY3jKiIT_MlsRmF-G6Wg6sUv7urx0aquneQMh1C9wJkbtwDSyQVORiPwnmFEOw1pep2RAyd8NyZ7TBAnEXCD7FfevZrSEUqKrooeZsOpB6xcqlyNM57eoVGYOFuCapw0qhLt1MwJuswiuDt8oSe_n3KMmdbId2hpnhKLCfRiOmZAxIxWPxPBDVzRI3Xq91mqxnXK1bLadtsMWFXKNWWohRva7AfhoypLEjc0QDBoqcQG_iUFE5V5dto05hQQeBikcQueitNG7WzSPB628ZzhRsVYINtj1baBceUy4lt2v_Flr407oE7FseV7auh84BbMKtQ20dlNEQY2yq2jwxHLb8OtPPbEBaGeid7mYl3pSZIU9SublhqCt3OdHXm-DIYQ3FEiRg - -

[00:00:46 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:46 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:46 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:00:46 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:00:46 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[00:00:46 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:00:46 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed out.

[00:00:46 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.External signed out.

[00:00:46 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.TwoFactorUserId signed out.

[00:00:46 Information] IdentityServer4.Events.DefaultEventService
{"SubjectId":"4","DisplayName":"Bob Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HMLP7IIHD8AG:00000002","TimeStamp":"2022-10-29T00:00:46.0000000Z","ProcessId":149,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLogoutSuccessEvent"}

[00:00:46 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view LoggedOut.

[00:00:46 Debug] IdentityServer4.Hosting.IdentityServerMiddleware
SignOutCalled set; processing post-signout session cleanup.

[00:00:46 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:46 Debug] IdentityServer4.Services.LogoutNotificationService
No client back-channel logout URLs

[00:00:46 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view LoggedOut executed in 6.0812ms.

[00:00:46 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Logout (IDP) in 14.0235ms

[00:00:46 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DGKVXVSn1z6S1jcdY_441B2HkDQGnnUQSP9FNzozM4V6Mmq2Wk4LcGEaCHklq5vzJpCwI5bsbZtOd6zcuI2C-RxOMlV6XSEdJkcDLfXbh5aF7ZXt8CwSQwXq1GyTUXa7rU5-I0Z4KbFT-I1PJCoShWYOr3JBYQI3rlKTO9ClQjVEDXo4OHJuEIrxB-4o6wGcpj0HnUbzsHhkm9DfU2rqcedLiKtgGrNKyX42v1CCXDFunwqna1JNP2QMgE8Di_KRg9hJZcNAFcCYJY9iexf0N8sTztLhdCQDS69saf-JILa4ypGYQD4hPxcLwe3hNsICW5k3FCP8Rj77Bh1iJ0tQW_fyWeKtji43jpLvZOAEY3jKiIT_MlsRmF-G6Wg6sUv7urx0aquneQMh1C9wJkbtwDSyQVORiPwnmFEOw1pep2RAyd8NyZ7TBAnEXCD7FfevZrSEUqKrooeZsOpB6xcqlyNM57eoVGYOFuCapw0qhLt1MwJuswiuDt8oSe_n3KMmdbId2hpnhKLCfRiOmZAxIxWPxPBDVzRI3Xq91mqxnXK1bLadtsMWFXKNWWohRva7AfhoypLEjc0QDBoqcQG_iUFE5V5dto05hQQeBikcQueitNG7WzSPB628ZzhRsVYINtj1baBceUy4lt2v_Flr407oE7FseV7auh84BbMKtQ20dlNEQY2yq2jwxHLb8OtPPbEBaGeid7mYl3pSZIU9SublhqCt3OdHXm-DIYQ3FEiRg - - - 200 - text/html;+charset=utf-8 22.5216ms

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DHPO37DWipLA-6qsKy0eQXzr6dwzNIOs7PCV0o2NqT4kRouuoM49q7z689UcWy8_UuYPI9jpw3fm-NQIESTPsHCorgZCv3e2GvjPB-0lemzlREtrH2XehuOTKBufNAVRCWSLhf3g4C3EBl3eniPvzvaFkS_coG4nZLVc2bf14KW15OyBMqqnl-A1_EIkMwrAgmGUShpjLwK975PDNZXVXCCmP2JR5TpL-VrEcxZ1s9XMXNxGOFHBj0DFp42JSqXlKf9ZS4EAKq70sZIIG85o3Ca - -

[00:00:46 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:00:46 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:00:46 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:46 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:00:46 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession/callback matched to endpoint type Endsession

[00:00:46 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint

[00:00:46 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback

[00:00:46 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[00:00:46 Debug] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Processing signout callback request

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 22.8655ms

[00:00:46 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:00:46 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 17.6698ms

[00:00:46 Debug] IdentityServer4.Services.LogoutNotificationService
No client front-channel logout URLs

[00:00:46 Information] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Successful signout callback.

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DHPO37DWipLA-6qsKy0eQXzr6dwzNIOs7PCV0o2NqT4kRouuoM49q7z689UcWy8_UuYPI9jpw3fm-NQIESTPsHCorgZCv3e2GvjPB-0lemzlREtrH2XehuOTKBufNAVRCWSLhf3g4C3EBl3eniPvzvaFkS_coG4nZLVc2bf14KW15OyBMqqnl-A1_EIkMwrAgmGUShpjLwK975PDNZXVXCCmP2JR5TpL-VrEcxZ1s9XMXNxGOFHBj0DFp42JSqXlKf9ZS4EAKq70sZIIG85o3Ca - - - 200 - text/html;+charset=UTF-8 17.9688ms

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[00:00:46 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 25.5699ms

[00:00:46 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[00:00:46 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 22.4837ms

[00:27:46 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[00:28:05 Information] 
Starting host...

[00:28:05 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[00:28:05 Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager
User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.

[00:28:06 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[00:28:07 Debug] 
alice already exists

[00:28:07 Debug] 
bob already exists

[00:28:07 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[00:28:07 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[00:28:07 Debug] IdentityServer4.Startup
Custom IssuerUri set to https://localhost

[00:28:07 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[00:28:07 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[00:28:07 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[00:28:07 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[00:28:07 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[00:28:07 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[00:28:07 Fatal] Microsoft.AspNetCore.Server.Kestrel
Unable to start Kestrel.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)

[00:28:15 Information] 
Starting host...

[00:28:15 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[00:28:15 Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager
User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.

[00:28:17 Debug] 
alice already exists

[00:28:17 Debug] 
bob already exists

[00:28:17 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[00:28:17 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[00:28:17 Debug] IdentityServer4.Startup
Custom IssuerUri set to https://localhost

[00:28:17 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[00:28:17 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[00:28:17 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[00:28:17 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[00:28:17 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[00:28:17 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[00:28:17 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[00:28:17 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[00:28:17 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[00:28:17 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[00:28:17 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[00:28:17 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[00:28:19 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0&code_challenge_method=S256&response_mode=form_post&nonce=638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi&state=CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:28:19 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:19 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:19 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[00:28:19 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[00:28:19 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[00:28:19 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[00:28:19 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[00:28:19 Debug] IdentityServer4.Startup
Error Url: /home/error

[00:28:19 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[00:28:19 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:19 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:19 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[00:28:19 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[00:28:19 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[00:28:19 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[00:28:19 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:19 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[00:28:19 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:28:19 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:19 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:28:19 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:28:19 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4","UiLocales":null,"Nonce":"638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi","state":"CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[00:28:19 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[00:28:19 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0&code_challenge_method=S256&response_mode=form_post&nonce=638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi&state=CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 210.4647ms

[00:28:19 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DuW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - -

[00:28:19 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:19 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:19 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:19 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:19 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:28:19 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:28:19 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:19 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:28:19 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:19 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:28:19 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:28:19 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:19 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view Login.

[00:28:20 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view Login executed in 97.4289ms.

[00:28:20 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 134.6037ms

[00:28:20 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DuW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - - - 200 - text/html;+charset=utf-8 187.6615ms

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[00:28:20 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 34.4028ms

[00:28:20 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 40.9834ms

[00:28:20 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 46.3049ms

[00:28:20 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 53.3061ms

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[00:28:20 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 47.1172ms

[00:28:20 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[00:28:20 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 22.1070ms

[00:28:33 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DuW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198

[00:28:33 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:33 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:33 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:33 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:33 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:28:33 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Starter.Idp.Models.Account.LoginInputModel, System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:28:33 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:33 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:28:33 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:33 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:28:33 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:28:33 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:28:33 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[00:28:33 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:28:33 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:28:33 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[00:28:33 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding idp claim with value: local

[00:28:33 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding auth_time claim with value: 1667003313

[00:28:33 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:33 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[00:28:33 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[00:28:33 Information] IdentityServer4.Events.DefaultEventService
{"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"4","DisplayName":"bob","Endpoint":"UI","ClientId":"Starter.Bff","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMLP8HTCNV2L:00000002","TimeStamp":"2022-10-29T00:28:33.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLoginSuccessEvent"}

[00:28:33 Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor
Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0&code_challenge_method=S256&response_mode=form_post&nonce=638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi&state=CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0.

[00:28:33 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 158.4346ms

[00:28:33 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:28:33 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DuW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198 - 302 0 - 179.8058ms

[00:28:33 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0&code_challenge_method=S256&response_mode=form_post&nonce=638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi&state=CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:28:33 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:33 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:33 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:28:33 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:28:33 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize/callback matched to endpoint type Authorize

[00:28:33 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint

[00:28:33 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback

[00:28:33 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Start authorize callback request

[00:28:33 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
User in authorize request: 4

[00:28:33 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:28:33 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:33 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:28:33 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:28:33 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"4","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4","UiLocales":null,"Nonce":"638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"20899F0BDFB5C6CA91A0F23CCEA03E95","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi","state":"CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[00:28:33 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:28:34 Debug] IdentityServer4.Services.DefaultConsentService
Client is configured to not require consent, no consent is required

[00:28:34 Debug] IdentityServer4.ResponseHandling.AuthorizeResponseGenerator
Creating Authorization Code Flow response.

[00:28:34 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","Endpoint":"Authorize","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****55BB","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP8HTCNV2M:00000002","TimeStamp":"2022-10-29T00:28:34.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"TokenIssuedSuccessEvent"}

[00:28:34 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Authorize endpoint response
{"SubjectId":"4","ClientId":"Starter.Bff","RedirectUri":"https://localhost/signin-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4","Scope":"openid profile Starter.Api offline_access","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}

[00:28:34 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[00:28:34 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=uW3Kx7Vvs-eCjIEmUbWwP9Ynwzd_eOXDk-EIIaIGC_0&code_challenge_method=S256&response_mode=form_post&nonce=638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi&state=CfDJ8NlCXmldZLBHsAViIel-sLzFEiZEmv1zfKwQsya1bN6LpnmnP-DTAT39llodFOJfb6ln0NHEGS_w2ay28gU2XbK0MKlfoS58dU5o2Lr4Hq4rhATg4IoVKPo_yhRQi3uYVEWIeN7CRKbi7RLWk8ErrucmPnmYcpxco3QE-Cs2Mmc_SiugXmOFDSW81lxGQbe-HAc4lVnDUXQ_4dzmfe3qIoLFrfjKbhIAbw0R305iOXR4OS2HCTjr2ZNoNOxcvZpPt3nAwcrh90Gyj3YkZ5Yaa1385Dm3kbqvZwh9JHL5H5KR_cyEElDnk7ZwR3rkCn0ZnIvk2xMg7JseKFMw5Q5vh_qJiFHI7ARp0Uz5fxg7Kn7A-YG4qNfWWSyFB7gfZOUwiwfTsxiN6qP4MNnLbdQZqN4&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 200 - text/html;+charset=UTF-8 246.5247ms

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251

[00:28:34 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:34 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:34 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/token matched to endpoint type Token

[00:28:34 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint

[00:28:34 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token

[00:28:34 Debug] IdentityServer4.Endpoints.TokenEndpoint
Start token request.

[00:28:34 Debug] IdentityServer4.Validation.ClientSecretValidator
Start client validation

[00:28:34 Debug] IdentityServer4.Validation.BasicAuthenticationSecretParser
Start parsing Basic Authentication secret

[00:28:34 Debug] IdentityServer4.Validation.PostBodySecretParser
Start parsing for secret in post body

[00:28:34 Debug] IdentityServer4.Validation.ISecretsListParser
Parser found secret: PostBodySecretParser

[00:28:34 Debug] IdentityServer4.Validation.ISecretsListParser
Secret id found: Starter.Bff

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Debug] IdentityServer4.Validation.ISecretsListValidator
Secret validator success: HashedSharedSecretValidator

[00:28:34 Debug] IdentityServer4.Validation.ClientSecretValidator
Client validation success

[00:28:34 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMLP8HTCNV2N:00000002","TimeStamp":"2022-10-29T00:28:34.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"ClientAuthenticationSuccessEvent"}

[00:28:34 Debug] IdentityServer4.Validation.TokenRequestValidator
Start token request validation

[00:28:34 Debug] IdentityServer4.Validation.TokenRequestValidator
Start validation of authorization code token request

[00:28:34 Debug] IdentityServer4.Validation.TokenRequestValidator
Client required a proof key for code exchange. Starting PKCE validation

[00:28:34 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:28:34 Debug] IdentityServer4.Validation.TokenRequestValidator
Validation of authorization code token request success

[00:28:34 Information] IdentityServer4.Validation.TokenRequestValidator
Token request validation success, {"ClientId":"Starter.Bff","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****55BB","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"Starter.Bff","client_secret":"***REDACTED***","code":"1EC2796DD4C843FD65223F8A8F39C800F14543B4B10CB8DD16B815CAC36155BB","grant_type":"authorization_code","redirect_uri":"https://localhost/signin-oidc","code_verifier":"rvUnTk7Aouk4yeeZihTOoRGuHE3xd-93prHa0u1rcTA"},"$type":"TokenRequestValidationLog"}

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for client: Starter.Bff

[00:28:34 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for subject: 4

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:28:34 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Creating refresh token

[00:28:34 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Setting an absolute lifetime: 2592000

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for identity token for subject: 4 and client: Starter.Bff

[00:28:34 Debug] IdentityServer4.Services.DefaultClaimsService
In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.

[00:28:34 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****2lKA","$type":"Token"},{"TokenType":"refresh_token","TokenValue":"****F352","$type":"Token"},{"TokenType":"access_token","TokenValue":"****7ZzQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP8HTCNV2N:00000002","TimeStamp":"2022-10-29T00:28:34.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"TokenIssuedSuccessEvent"}

[00:28:34 Debug] IdentityServer4.Endpoints.TokenEndpoint
Token request success.

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251 - 200 - application/json;+charset=UTF-8 211.6554ms

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[00:28:34 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:34 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:34 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[00:28:34 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[00:28:34 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[00:28:34 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[00:28:34 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:28:34 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:28:34 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"B5AE240555367822F08A37577500D8E5","Claims":{"nbf":1667003314,"exp":1667006914,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667003313,"idp":"local","jti":"B5AE240555367822F08A37577500D8E5","sid":"20899F0BDFB5C6CA91A0F23CCEA03E95","iat":1667003314,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[00:28:34 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[00:28:34 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[00:28:34 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:28:34 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[00:28:34 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 72.1088ms

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[00:28:34 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:34 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:34 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[00:28:34 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[00:28:34 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[00:28:34 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[00:28:34 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:34 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:28:34 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:28:34 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"B5AE240555367822F08A37577500D8E5","Claims":{"nbf":1667003314,"exp":1667006914,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667003313,"idp":"local","jti":"B5AE240555367822F08A37577500D8E5","sid":"20899F0BDFB5C6CA91A0F23CCEA03E95","iat":1667003314,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[00:28:34 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[00:28:34 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[00:28:34 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:28:34 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:28:34 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[00:28:34 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[00:28:34 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 65.7479ms

[00:28:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDMzMTQsImV4cCI6MTY2NzAwMzYxNCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI2MDAwOTk1MTgxMDE5Lk5UaGpOREU1TURVdE5HUm1ZaTAwWVdJMkxXSTRNMkl0WVRZMk5HUmxPR1ZrWVRRMk1ETmpPRGswWkRjdE16RTJaQzAwTURoakxUZzNPREF0WWpKaFlXRXpORGN6WkRWaSIsImlhdCI6MTY2NzAwMzMxNCwiYXRfaGFzaCI6Im1OSXdxazJvZTBKNUVyeUZXYW1zcGciLCJzX2hhc2giOiJyd3d6NGVPUVl0QTF5Vk5BZDA0cVBRIiwic2lkIjoiMjA4OTlGMEJERkI1QzZDQTkxQTBGMjNDQ0VBMDNFOTUiLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDAzMzEzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.FOGxDjaPtH9yiIGl37g5lnTfLpwE4zdcdb-Bosdv-iZozfzp13PgRx7jV05n_DJQJzAYAGb8tDnctdMNhZbeCTR_N5kOopKHf0GxLDvAf3Y-S8ZJxn6NgPhOgJf_zvjq9kaadQfqxefojMfkh5XznLFDd-baOCcvOkqBfwDSCrln6KK0NwMFzJdL59ohIQm9eumKMYsr9Rrg0Slg0PlA23AFTD94KcLlleY25Tb8Sb20dlETaKFBVnoWga6mXzw4j8YWN10Wl4f00wFAIEpPriWftWlZzx1TAAeaNcjsLLabvf0RjN_GlzfclD8YCsGej5p6-ZfIqi1izrCciA2lKA&state=CfDJ8NlCXmldZLBHsAViIel-sLz4waAH_kXv46J0gjVimoxk3FMu_L8-qqOicL0qOy26bbpfGdZGjQognP6jls-EpWqiN499kgn63vJQbHlOgUqWvg7-blK6TP9sT18KpBOWHHV5qnuJvcXwCVTXjbh4A9PZAUZv6nyB3CFX61SwrVCb&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:28:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:28:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:28:37 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession matched to endpoint type Endsession

[00:28:37 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint

[00:28:37 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession

[00:28:37 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Processing signout request for 4

[00:28:37 Debug] IdentityServer4.Validation.EndSessionRequestValidator
Start end session request validation

[00:28:37 Debug] IdentityServer4.Validation.TokenValidator
Start identity token validation

[00:28:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:37 Debug] IdentityServer4.Validation.TokenValidator
Client found: Starter.Bff / null

[00:28:37 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:28:37 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":"Starter.Bff","ClientName":null,"ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1667003314,"exp":1667003614,"iss":"https://localhost","aud":"Starter.Bff","nonce":"638026000995181019.NThjNDE5MDUtNGRmYi00YWI2LWI4M2ItYTY2NGRlOGVkYTQ2MDNjODk0ZDctMzE2ZC00MDhjLTg3ODAtYjJhYWEzNDczZDVi","iat":1667003314,"at_hash":"mNIwqk2oe0J5EryFWamspg","s_hash":"rwwz4eOQYtA1yVNAd04qPQ","sid":"20899F0BDFB5C6CA91A0F23CCEA03E95","sub":"4","auth_time":1667003313,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}

[00:28:37 Information] IdentityServer4.Validation.EndSessionRequestValidator
End session request validation success
{"ClientId":"Starter.Bff","ClientName":null,"SubjectId":"4","PostLogOutUri":"https://localhost/signout-callback-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLz4waAH_kXv46J0gjVimoxk3FMu_L8-qqOicL0qOy26bbpfGdZGjQognP6jls-EpWqiN499kgn63vJQbHlOgUqWvg7-blK6TP9sT18KpBOWHHV5qnuJvcXwCVTXjbh4A9PZAUZv6nyB3CFX61SwrVCb","Raw":{"post_logout_redirect_uri":"https://localhost/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8NlCXmldZLBHsAViIel-sLz4waAH_kXv46J0gjVimoxk3FMu_L8-qqOicL0qOy26bbpfGdZGjQognP6jls-EpWqiN499kgn63vJQbHlOgUqWvg7-blK6TP9sT18KpBOWHHV5qnuJvcXwCVTXjbh4A9PZAUZv6nyB3CFX61SwrVCb","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"EndSessionRequestValidationLog"}

[00:28:37 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Success validating end session request from Starter.Bff

[00:28:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDMzMTQsImV4cCI6MTY2NzAwMzYxNCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI2MDAwOTk1MTgxMDE5Lk5UaGpOREU1TURVdE5HUm1ZaTAwWVdJMkxXSTRNMkl0WVRZMk5HUmxPR1ZrWVRRMk1ETmpPRGswWkRjdE16RTJaQzAwTURoakxUZzNPREF0WWpKaFlXRXpORGN6WkRWaSIsImlhdCI6MTY2NzAwMzMxNCwiYXRfaGFzaCI6Im1OSXdxazJvZTBKNUVyeUZXYW1zcGciLCJzX2hhc2giOiJyd3d6NGVPUVl0QTF5Vk5BZDA0cVBRIiwic2lkIjoiMjA4OTlGMEJERkI1QzZDQTkxQTBGMjNDQ0VBMDNFOTUiLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDAzMzEzLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.FOGxDjaPtH9yiIGl37g5lnTfLpwE4zdcdb-Bosdv-iZozfzp13PgRx7jV05n_DJQJzAYAGb8tDnctdMNhZbeCTR_N5kOopKHf0GxLDvAf3Y-S8ZJxn6NgPhOgJf_zvjq9kaadQfqxefojMfkh5XznLFDd-baOCcvOkqBfwDSCrln6KK0NwMFzJdL59ohIQm9eumKMYsr9Rrg0Slg0PlA23AFTD94KcLlleY25Tb8Sb20dlETaKFBVnoWga6mXzw4j8YWN10Wl4f00wFAIEpPriWftWlZzx1TAAeaNcjsLLabvf0RjN_GlzfclD8YCsGej5p6-ZfIqi1izrCciA2lKA&state=CfDJ8NlCXmldZLBHsAViIel-sLz4waAH_kXv46J0gjVimoxk3FMu_L8-qqOicL0qOy26bbpfGdZGjQognP6jls-EpWqiN499kgn63vJQbHlOgUqWvg7-blK6TP9sT18KpBOWHHV5qnuJvcXwCVTXjbh4A9PZAUZv6nyB3CFX61SwrVCb&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 64.3898ms

[00:28:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DHkRGk28geUW8oQV7v3Kw_DpCB-U-32BQATfq5KbG-RspJOPiVkpMDIC-22bk-OZTKwPVj_GyN0VXbzMb6EwM7uuuEF1WPPpH_WKjQULpnDkUsgatlz8Ulb_S9wl3FDICp_mSTsbVYgKgi0BpLEEbpljkn5VLe6ppxyvQ71MeQ-lm4oZveJ0Dk3NrPWFKjXRlQqDHZdxb7Y6JM4QH4-o46mYvz33BxMqK7h6t5r4g1dLL399YCDbDLwsF0Lfw2F3x01YmgTi_FwYY4Em7W05r9YN9D9mYyzne_R920SB65y052qP3stvMm6c7RQ_QyEqa92uLoGbd5q2lh7TihVSPXhRuR-WWSRgT7QjOBLUudt6FLHxspciC4vJEk27fd_WvZFz6huOJGaT27PRaFFf3ohxO3lzRncV6B6SI_ZZpmg64tgBSkDskTUTQOkHhcHGJA3mdOJrNGEW5XM3NDWUNvMu0kfKI314d28foSX-iLNaCexjhYLRCKXOc4MVB4NdXFFUh7Z6F04_BphwQ49HI9TUdO9X742PaL8PQosxhEuaPjynPz-ZEaov70tRkYfcnksgb2C1dMM1RIwBMt55fWtAc2hxNNvDrzX3cDH65u9GUhAWJXjpbaiHlQ2-8ypeS9DGLTlgFWygnaiUBoJYzQU_dZPHL7LmL1N0697v6jQNp0MIO2ly440Pui8BVSvU-eObb_PayjaqBguK-zBxpguUh5VYJbrvkZzEYlxGWsRrA - -

[00:28:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:28:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:28:37 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[00:28:37 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:28:37 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed out.

[00:28:37 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.External signed out.

[00:28:37 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.TwoFactorUserId signed out.

[00:28:37 Information] IdentityServer4.Events.DefaultEventService
{"SubjectId":"4","DisplayName":"Bob Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HMLP8HTCNV2Q:00000002","TimeStamp":"2022-10-29T00:28:37.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLogoutSuccessEvent"}

[00:28:37 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view LoggedOut.

[00:28:37 Debug] IdentityServer4.Hosting.IdentityServerMiddleware
SignOutCalled set; processing post-signout session cleanup.

[00:28:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:37 Debug] IdentityServer4.Services.LogoutNotificationService
No client back-channel logout URLs

[00:28:37 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view LoggedOut executed in 13.7001ms.

[00:28:37 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Logout (IDP) in 40.8968ms

[00:28:37 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[00:28:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DHkRGk28geUW8oQV7v3Kw_DpCB-U-32BQATfq5KbG-RspJOPiVkpMDIC-22bk-OZTKwPVj_GyN0VXbzMb6EwM7uuuEF1WPPpH_WKjQULpnDkUsgatlz8Ulb_S9wl3FDICp_mSTsbVYgKgi0BpLEEbpljkn5VLe6ppxyvQ71MeQ-lm4oZveJ0Dk3NrPWFKjXRlQqDHZdxb7Y6JM4QH4-o46mYvz33BxMqK7h6t5r4g1dLL399YCDbDLwsF0Lfw2F3x01YmgTi_FwYY4Em7W05r9YN9D9mYyzne_R920SB65y052qP3stvMm6c7RQ_QyEqa92uLoGbd5q2lh7TihVSPXhRuR-WWSRgT7QjOBLUudt6FLHxspciC4vJEk27fd_WvZFz6huOJGaT27PRaFFf3ohxO3lzRncV6B6SI_ZZpmg64tgBSkDskTUTQOkHhcHGJA3mdOJrNGEW5XM3NDWUNvMu0kfKI314d28foSX-iLNaCexjhYLRCKXOc4MVB4NdXFFUh7Z6F04_BphwQ49HI9TUdO9X742PaL8PQosxhEuaPjynPz-ZEaov70tRkYfcnksgb2C1dMM1RIwBMt55fWtAc2hxNNvDrzX3cDH65u9GUhAWJXjpbaiHlQ2-8ypeS9DGLTlgFWygnaiUBoJYzQU_dZPHL7LmL1N0697v6jQNp0MIO2ly440Pui8BVSvU-eObb_PayjaqBguK-zBxpguUh5VYJbrvkZzEYlxGWsRrA - - - 200 - text/html;+charset=utf-8 61.2700ms

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DFi8v6SdVc5S0nxiImlJowtk5E6XrJLxqgkmSLshVCAu2QyZ4YlIGOwWwqAWn5xaxxGn7CDjFmdM__xyJEU8T4f4vGAdT-Ah7Pv01qIu09GO5GIkc4aYCoG4RCy_9QDjIQd_lRrTNjAT3Cumlq_s1g5Dl-o-nFQyk6EHzR23ZQ-H51TJKFOlQydB_dHcL5hTY4vc5R3iAddMBWFbtGYMXNKwC7AXBvjY5Irhm3MqmxgXeMl6ElXejyr2fGYWpehDhA6jVqSkXHx8IRx6GKPqdbd - -

[00:28:38 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:28:38 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:28:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:38 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:28:38 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession/callback matched to endpoint type Endsession

[00:28:38 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint

[00:28:38 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback

[00:28:38 Debug] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Processing signout callback request

[00:28:38 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:28:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[00:28:38 Debug] IdentityServer4.Services.LogoutNotificationService
No client front-channel logout URLs

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 19.7960ms

[00:28:38 Information] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Successful signout callback.

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DFi8v6SdVc5S0nxiImlJowtk5E6XrJLxqgkmSLshVCAu2QyZ4YlIGOwWwqAWn5xaxxGn7CDjFmdM__xyJEU8T4f4vGAdT-Ah7Pv01qIu09GO5GIkc4aYCoG4RCy_9QDjIQd_lRrTNjAT3Cumlq_s1g5Dl-o-nFQyk6EHzR23ZQ-H51TJKFOlQydB_dHcL5hTY4vc5R3iAddMBWFbtGYMXNKwC7AXBvjY5Irhm3MqmxgXeMl6ElXejyr2fGYWpehDhA6jVqSkXHx8IRx6GKPqdbd - - - 200 - text/html;+charset=UTF-8 23.0706ms

[00:28:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 45.8070ms

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[00:28:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 29.5286ms

[00:28:38 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[00:28:38 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 63.5570ms

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4&code_challenge_method=S256&response_mode=form_post&nonce=638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy&state=CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:42:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:37 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[00:42:37 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[00:42:37 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[00:42:37 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[00:42:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:37 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[00:42:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:42:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:42:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:42:37 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg","UiLocales":null,"Nonce":"638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy","state":"CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[00:42:37 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4&code_challenge_method=S256&response_mode=form_post&nonce=638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy&state=CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 7.3786ms

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DobUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - -

[00:42:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:37 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:37 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:42:37 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:42:37 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:42:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:42:37 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:42:37 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:37 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view Login.

[00:42:37 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view Login executed in 3.532ms.

[00:42:37 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 9.7404ms

[00:42:37 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DobUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - - - 200 - text/html;+charset=utf-8 18.1530ms

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[00:42:37 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 40.2078ms

[00:42:37 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 21.1590ms

[00:42:37 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 29.9973ms

[00:42:37 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 41.7329ms

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[00:42:37 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 27.7764ms

[00:42:37 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[00:42:37 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 61.0018ms

[00:42:42 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DobUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198

[00:42:42 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:42 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:42 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:42 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:42 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:42:42 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Starter.Idp.Models.Account.LoginInputModel, System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:42:42 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:42 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:42:42 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:42 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:42:42 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:42:42 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:42:42 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[00:42:42 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:42:42 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:42:42 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[00:42:42 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding idp claim with value: local

[00:42:42 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding auth_time claim with value: 1667004162

[00:42:42 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:42 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[00:42:42 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[00:42:42 Information] IdentityServer4.Events.DefaultEventService
{"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"4","DisplayName":"bob","Endpoint":"UI","ClientId":"Starter.Bff","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMLP8HTCNV38:00000002","TimeStamp":"2022-10-29T00:42:42.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLoginSuccessEvent"}

[00:42:42 Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor
Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4&code_challenge_method=S256&response_mode=form_post&nonce=638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy&state=CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0.

[00:42:42 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 129.9041ms

[00:42:42 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[00:42:42 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DobUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198 - 302 0 - 134.0764ms

[00:42:42 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4&code_challenge_method=S256&response_mode=form_post&nonce=638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy&state=CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:42:42 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:42 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:42 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:42:42 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:42:42 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize/callback matched to endpoint type Authorize

[00:42:42 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint

[00:42:42 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback

[00:42:42 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Start authorize callback request

[00:42:42 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
User in authorize request: 4

[00:42:42 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[00:42:42 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:42 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[00:42:42 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[00:42:42 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"4","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg","UiLocales":null,"Nonce":"638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"9A35DBCB034E81AE5078AE3A6393F395","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy","state":"CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[00:42:42 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:42:42 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:42:42 Debug] IdentityServer4.Services.DefaultConsentService
Client is configured to not require consent, no consent is required

[00:42:42 Debug] IdentityServer4.ResponseHandling.AuthorizeResponseGenerator
Creating Authorization Code Flow response.

[00:42:42 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","Endpoint":"Authorize","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****C796","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP8HTCNV39:00000002","TimeStamp":"2022-10-29T00:42:42.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"TokenIssuedSuccessEvent"}

[00:42:42 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Authorize endpoint response
{"SubjectId":"4","ClientId":"Starter.Bff","RedirectUri":"https://localhost/signin-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg","Scope":"openid profile Starter.Api offline_access","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}

[00:42:42 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[00:42:42 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[00:42:42 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=obUO8fkVyUmnOe8UUw66zVI7jjnGD602Z6gP3XdBHS4&code_challenge_method=S256&response_mode=form_post&nonce=638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy&state=CfDJ8NlCXmldZLBHsAViIel-sLxe-xPuu-a3g2idb8kfwnfF4V_tJjGneITt2GquxEOaGP_0B_R3YRbBTU6OzVq8LcPi-Qcl_hWXLT_0AHBZp0tALwH3CxnfF6hzSpHog8q650zW45D4Gdz7zUssz1Lo44tLn9z3HOOJg3uCswJ_00_c5CPAENqntEPvAK2SOPX1yar2MmEPAwYQL-nWFIC17ncSapiKowb7XXwFnOTiLcc9sQ5vHE8P8PrH93o-xZLKSkeqyjyxZmiTf4-U2Qx_oz-LUC4igU_Sjd4u3E5hiC7_LtRxU5K5y3E6gSCd9B3wZYGykgzBoq5aZBl5V0YC_hwfKYhTiSIFxOpAumqCEPdQibXIsdnF-WV_M3npgoz-RT7ZKwKiaj50JauQOkuJYFg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 200 - text/html;+charset=UTF-8 16.7120ms

[00:42:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251

[00:42:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:43 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/token matched to endpoint type Token

[00:42:43 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint

[00:42:43 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token

[00:42:43 Debug] IdentityServer4.Endpoints.TokenEndpoint
Start token request.

[00:42:43 Debug] IdentityServer4.Validation.ClientSecretValidator
Start client validation

[00:42:43 Debug] IdentityServer4.Validation.BasicAuthenticationSecretParser
Start parsing Basic Authentication secret

[00:42:43 Debug] IdentityServer4.Validation.PostBodySecretParser
Start parsing for secret in post body

[00:42:43 Debug] IdentityServer4.Validation.ISecretsListParser
Parser found secret: PostBodySecretParser

[00:42:43 Debug] IdentityServer4.Validation.ISecretsListParser
Secret id found: Starter.Bff

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Debug] IdentityServer4.Validation.ISecretsListValidator
Secret validator success: HashedSharedSecretValidator

[00:42:43 Debug] IdentityServer4.Validation.ClientSecretValidator
Client validation success

[00:42:43 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMLP8HTCNV3A:00000002","TimeStamp":"2022-10-29T00:42:43.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"ClientAuthenticationSuccessEvent"}

[00:42:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Start token request validation

[00:42:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Start validation of authorization code token request

[00:42:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Client required a proof key for code exchange. Starting PKCE validation

[00:42:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:42:43 Debug] IdentityServer4.Validation.TokenRequestValidator
Validation of authorization code token request success

[00:42:43 Information] IdentityServer4.Validation.TokenRequestValidator
Token request validation success, {"ClientId":"Starter.Bff","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****C796","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"Starter.Bff","client_secret":"***REDACTED***","code":"376A38DC5D394A91B043F7DB150D2DE3FED03488E3F5D875D999F106F8BBC796","grant_type":"authorization_code","redirect_uri":"https://localhost/signin-oidc","code_verifier":"UHQ8oZsw74kyiplEr3yMxNvJWU4DWUDM0PDDBBFdWGc"},"$type":"TokenRequestValidationLog"}

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for client: Starter.Bff

[00:42:43 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for subject: 4

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:42:43 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Creating refresh token

[00:42:43 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Setting an absolute lifetime: 2592000

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for identity token for subject: 4 and client: Starter.Bff

[00:42:43 Debug] IdentityServer4.Services.DefaultClaimsService
In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.

[00:42:43 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****WDHg","$type":"Token"},{"TokenType":"refresh_token","TokenValue":"****EAE1","$type":"Token"},{"TokenType":"access_token","TokenValue":"****H7Bw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP8HTCNV3A:00000002","TimeStamp":"2022-10-29T00:42:43.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"TokenIssuedSuccessEvent"}

[00:42:43 Debug] IdentityServer4.Endpoints.TokenEndpoint
Token request success.

[00:42:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251 - 200 - application/json;+charset=UTF-8 26.6503ms

[00:42:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[00:42:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:43 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[00:42:43 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[00:42:43 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[00:42:43 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[00:42:43 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:42:43 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:42:43 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"418403EDF3EA2639520E25FE41696EBE","Claims":{"nbf":1667004163,"exp":1667007763,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667004162,"idp":"local","jti":"418403EDF3EA2639520E25FE41696EBE","sid":"9A35DBCB034E81AE5078AE3A6393F395","iat":1667004163,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[00:42:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[00:42:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[00:42:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:42:43 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[00:42:43 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[00:42:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 16.7095ms

[00:42:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[00:42:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:43 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:43 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[00:42:43 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[00:42:43 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[00:42:43 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[00:42:43 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:43 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[00:42:43 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:42:43 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"418403EDF3EA2639520E25FE41696EBE","Claims":{"nbf":1667004163,"exp":1667007763,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667004162,"idp":"local","jti":"418403EDF3EA2639520E25FE41696EBE","sid":"9A35DBCB034E81AE5078AE3A6393F395","iat":1667004163,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[00:42:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[00:42:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[00:42:43 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[00:42:43 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[00:42:43 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[00:42:43 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[00:42:43 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 34.4815ms

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDQxNjMsImV4cCI6MTY2NzAwNDQ2MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI2MDA5NTcxODgyOTc5Lk5HVXpaVGRoWmprdE5ETXhNUzAwWTJFMExXSTBOakV0T0dRMFl6QmhNREEwT0RNM1pqZGxObU5rWm1NdE5ESm1ZaTAwWXpSa0xXSTNORFV0T1RkbVkyWmpOalkxT1RZeSIsImlhdCI6MTY2NzAwNDE2MywiYXRfaGFzaCI6InRBZUpHb0RteHNzNU5vSUNHYlVYSGciLCJzX2hhc2giOiJEU2locHk0Smt1RDJkQnpsWk13MTB3Iiwic2lkIjoiOUEzNURCQ0IwMzRFODFBRTUwNzhBRTNBNjM5M0YzOTUiLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDA0MTYyLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.yH9hDlOXToO-Xt8e-Fv2QNzlstpyP9Wrjz2nseCdqgNazRBI6Mg6SF1_d-hszvw6LdEjY-o-j6MQX_FWkcyeJnUplj35T8YfOlIY7-SwHx0K1PeHmSzrEylDQiudf5XRVVd1havB4ftc0F3mO1ToA4GQAWghJK1_XgSkfNPqO3jnzDV-3zo2phlrOclM6D7yMT5Zq3UaZKrt1i0S_fvfh8DylDmjSRzriUkdEkBm9djMKuSLtmkm9fcaFOBYo7jNXarq9qD21h8jC-fkGDdlh3TFGgspZ2qTQccJTiII7wtp1HOD2GHPuzhOdCFN2is3wIrZXKYJ6P4bsps6n-WDHg&state=CfDJ8NlCXmldZLBHsAViIel-sLyqEM0ZsB8HGIaZstDjJRFwhgY2OIkCfDihTsLGrfGmk-vQEg54ZDOeAEdXfCbtgG6dGyEajN9mv-plGPbJAu0t-RekEUjbRkDELRMIr0ax1X4MRkDWQLtz6aRLxUlfWeD6x9xrClVdAVj_Hk5Ay8H5&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[00:42:44 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:44 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:44 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:42:44 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:42:44 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession matched to endpoint type Endsession

[00:42:44 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint

[00:42:44 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession

[00:42:44 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Processing signout request for 4

[00:42:44 Debug] IdentityServer4.Validation.EndSessionRequestValidator
Start end session request validation

[00:42:44 Debug] IdentityServer4.Validation.TokenValidator
Start identity token validation

[00:42:44 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:44 Debug] IdentityServer4.Validation.TokenValidator
Client found: Starter.Bff / null

[00:42:44 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[00:42:44 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":"Starter.Bff","ClientName":null,"ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1667004163,"exp":1667004463,"iss":"https://localhost","aud":"Starter.Bff","nonce":"638026009571882979.NGUzZTdhZjktNDMxMS00Y2E0LWI0NjEtOGQ0YzBhMDA0ODM3ZjdlNmNkZmMtNDJmYi00YzRkLWI3NDUtOTdmY2ZjNjY1OTYy","iat":1667004163,"at_hash":"tAeJGoDmxss5NoICGbUXHg","s_hash":"DSihpy4JkuD2dBzlZMw10w","sid":"9A35DBCB034E81AE5078AE3A6393F395","sub":"4","auth_time":1667004162,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}

[00:42:44 Information] IdentityServer4.Validation.EndSessionRequestValidator
End session request validation success
{"ClientId":"Starter.Bff","ClientName":null,"SubjectId":"4","PostLogOutUri":"https://localhost/signout-callback-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLyqEM0ZsB8HGIaZstDjJRFwhgY2OIkCfDihTsLGrfGmk-vQEg54ZDOeAEdXfCbtgG6dGyEajN9mv-plGPbJAu0t-RekEUjbRkDELRMIr0ax1X4MRkDWQLtz6aRLxUlfWeD6x9xrClVdAVj_Hk5Ay8H5","Raw":{"post_logout_redirect_uri":"https://localhost/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8NlCXmldZLBHsAViIel-sLyqEM0ZsB8HGIaZstDjJRFwhgY2OIkCfDihTsLGrfGmk-vQEg54ZDOeAEdXfCbtgG6dGyEajN9mv-plGPbJAu0t-RekEUjbRkDELRMIr0ax1X4MRkDWQLtz6aRLxUlfWeD6x9xrClVdAVj_Hk5Ay8H5","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"EndSessionRequestValidationLog"}

[00:42:44 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Success validating end session request from Starter.Bff

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDQxNjMsImV4cCI6MTY2NzAwNDQ2MywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI2MDA5NTcxODgyOTc5Lk5HVXpaVGRoWmprdE5ETXhNUzAwWTJFMExXSTBOakV0T0dRMFl6QmhNREEwT0RNM1pqZGxObU5rWm1NdE5ESm1ZaTAwWXpSa0xXSTNORFV0T1RkbVkyWmpOalkxT1RZeSIsImlhdCI6MTY2NzAwNDE2MywiYXRfaGFzaCI6InRBZUpHb0RteHNzNU5vSUNHYlVYSGciLCJzX2hhc2giOiJEU2locHk0Smt1RDJkQnpsWk13MTB3Iiwic2lkIjoiOUEzNURCQ0IwMzRFODFBRTUwNzhBRTNBNjM5M0YzOTUiLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDA0MTYyLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.yH9hDlOXToO-Xt8e-Fv2QNzlstpyP9Wrjz2nseCdqgNazRBI6Mg6SF1_d-hszvw6LdEjY-o-j6MQX_FWkcyeJnUplj35T8YfOlIY7-SwHx0K1PeHmSzrEylDQiudf5XRVVd1havB4ftc0F3mO1ToA4GQAWghJK1_XgSkfNPqO3jnzDV-3zo2phlrOclM6D7yMT5Zq3UaZKrt1i0S_fvfh8DylDmjSRzriUkdEkBm9djMKuSLtmkm9fcaFOBYo7jNXarq9qD21h8jC-fkGDdlh3TFGgspZ2qTQccJTiII7wtp1HOD2GHPuzhOdCFN2is3wIrZXKYJ6P4bsps6n-WDHg&state=CfDJ8NlCXmldZLBHsAViIel-sLyqEM0ZsB8HGIaZstDjJRFwhgY2OIkCfDihTsLGrfGmk-vQEg54ZDOeAEdXfCbtgG6dGyEajN9mv-plGPbJAu0t-RekEUjbRkDELRMIr0ax1X4MRkDWQLtz6aRLxUlfWeD6x9xrClVdAVj_Hk5Ay8H5&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 12.2299ms

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DFRadeeP10rWlZWuMXZMaxtKkyDqF-JR4TC0x_FeCu5ptym8aPEMsqDfgR0y1_JU2BChyF_WMBuLBosSI5Z-XQli5JlRNHXn2xR5YkAzZXogWYHU8YlZNYVgu7BPINMipCwR9yrxqNhhdYBqu09WPfecx2yjsgqz12lkVEagQkzgv8_54ReFW84rEs-nn1kqqcq1TfTiS7_Tc9a0hCGUMsQaHrqueU-0vvaDjYJynXyvrwRfo9SS3NGtUgL-uF_KjVDdt2-HH2Pkji-GcSyCQnu4G4EZLDecubJSt4ykE5jvd7cXiMT1WBgFIJq9SXUAWmC9F8WTv0z2DQeYELNlpT0axM9vz23MSk1lNJxoX3yPvZQEG03Ut3G6WgpLoyowmCbbKjdlArtWVKWZTxWqFMIJTzCF4JIK_lNZSJuNMUnnx9tYkvYfzFU62-yih_kNmIrS6_Wvt3Asb57nRsTlZXc5SHPXsXb3kSi0Gs8vmg3q0xC7jy73RYDU20jDvwtdDAHqkgYSdYzDp8VTGd7RUuED98bgsSR_GUTM_J7eHsKZZCDtHvCwdVvKKx2SnGiiptKWnACzQareUSXECd4IV-FCmJ5Iuh8nkYQF5uUveoRHH6gNa0x8QuKVVX6X2sVrQYNoll_jPA-FD2P1QPp_CHI_S2C-ZS91XgK0IZPy9LqeMf8AsUJXsb0UOf5bP25WukjqKylDDwlKwvZd4oFwwe3L9GAL9oFR8w1GAyxxk8GbA - -

[00:42:44 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:44 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:44 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:42:44 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[00:42:44 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[00:42:44 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[00:42:44 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed out.

[00:42:44 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.External signed out.

[00:42:44 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.TwoFactorUserId signed out.

[00:42:44 Information] IdentityServer4.Events.DefaultEventService
{"SubjectId":"4","DisplayName":"Bob Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HMLP8HTCNV3D:00000002","TimeStamp":"2022-10-29T00:42:44.0000000Z","ProcessId":2033,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLogoutSuccessEvent"}

[00:42:44 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view LoggedOut.

[00:42:44 Debug] IdentityServer4.Hosting.IdentityServerMiddleware
SignOutCalled set; processing post-signout session cleanup.

[00:42:44 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:44 Debug] IdentityServer4.Services.LogoutNotificationService
No client back-channel logout URLs

[00:42:44 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view LoggedOut executed in 6.1173ms.

[00:42:44 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Logout (IDP) in 18.6692ms

[00:42:44 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DFRadeeP10rWlZWuMXZMaxtKkyDqF-JR4TC0x_FeCu5ptym8aPEMsqDfgR0y1_JU2BChyF_WMBuLBosSI5Z-XQli5JlRNHXn2xR5YkAzZXogWYHU8YlZNYVgu7BPINMipCwR9yrxqNhhdYBqu09WPfecx2yjsgqz12lkVEagQkzgv8_54ReFW84rEs-nn1kqqcq1TfTiS7_Tc9a0hCGUMsQaHrqueU-0vvaDjYJynXyvrwRfo9SS3NGtUgL-uF_KjVDdt2-HH2Pkji-GcSyCQnu4G4EZLDecubJSt4ykE5jvd7cXiMT1WBgFIJq9SXUAWmC9F8WTv0z2DQeYELNlpT0axM9vz23MSk1lNJxoX3yPvZQEG03Ut3G6WgpLoyowmCbbKjdlArtWVKWZTxWqFMIJTzCF4JIK_lNZSJuNMUnnx9tYkvYfzFU62-yih_kNmIrS6_Wvt3Asb57nRsTlZXc5SHPXsXb3kSi0Gs8vmg3q0xC7jy73RYDU20jDvwtdDAHqkgYSdYzDp8VTGd7RUuED98bgsSR_GUTM_J7eHsKZZCDtHvCwdVvKKx2SnGiiptKWnACzQareUSXECd4IV-FCmJ5Iuh8nkYQF5uUveoRHH6gNa0x8QuKVVX6X2sVrQYNoll_jPA-FD2P1QPp_CHI_S2C-ZS91XgK0IZPy9LqeMf8AsUJXsb0UOf5bP25WukjqKylDDwlKwvZd4oFwwe3L9GAL9oFR8w1GAyxxk8GbA - - - 200 - text/html;+charset=utf-8 24.6573ms

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[00:42:44 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DGFwgVRDvoQqWgacRXGplQh5vHXVWBEELfma00at9s7G9QsuyshIiP_sMXKuA8Z9cB0UZcqscz0kVq4kOeNQY3-MjPLyECXdp0Xld7-qH6ecoHXbphoMPjPwz13blEzQZ7o-cxtWUwugj1QfSoh8v7tqmVMys22HjxZeyZZSaRnPZWs_JTQam8SDjfSQrMisaKC5G_nd7-Ta3JMXG_ZyymhZyJESjqIe0wZLJQSNqS4DFZhbMnSheYr2pg-62iL_R2_kd6fhj-PMr5BnDiJvzXC - -

[00:42:44 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[00:42:44 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[00:42:45 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:45 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[00:42:45 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[00:42:45 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession/callback matched to endpoint type Endsession

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 13.4983ms

[00:42:45 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint

[00:42:45 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback

[00:42:45 Debug] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Processing signout callback request

[00:42:45 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[00:42:45 Debug] IdentityServer4.Services.LogoutNotificationService
No client front-channel logout URLs

[00:42:45 Information] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Successful signout callback.

[00:42:45 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 46.0265ms

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DGFwgVRDvoQqWgacRXGplQh5vHXVWBEELfma00at9s7G9QsuyshIiP_sMXKuA8Z9cB0UZcqscz0kVq4kOeNQY3-MjPLyECXdp0Xld7-qH6ecoHXbphoMPjPwz13blEzQZ7o-cxtWUwugj1QfSoh8v7tqmVMys22HjxZeyZZSaRnPZWs_JTQam8SDjfSQrMisaKC5G_nd7-Ta3JMXG_ZyymhZyJESjqIe0wZLJQSNqS4DFZhbMnSheYr2pg-62iL_R2_kd6fhj-PMr5BnDiJvzXC - - - 200 - text/html;+charset=UTF-8 8.0333ms

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[00:42:45 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 40.4911ms

[00:42:45 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[00:42:45 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 34.7237ms

[01:21:41 Information] Microsoft.Hosting.Lifetime
Application is shutting down...

[01:21:52 Information] 
Starting host...

[01:21:52 Warning] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository
Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.

[01:21:52 Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager
User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.

[01:21:54 Debug] 
alice already exists

[01:21:54 Debug] 
bob already exists

[01:21:54 Information] IdentityServer4.Startup
Starting IdentityServer4 version 4.1.2+997a6cdd643e46cd5762b710c4ddc43574cbec2e

[01:21:54 Information] IdentityServer4.Startup
You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.

[01:21:54 Debug] IdentityServer4.Startup
Custom IssuerUri set to https://localhost

[01:21:54 Information] IdentityServer4.Startup
Using the default authentication scheme Identity.Application for IdentityServer

[01:21:54 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for authentication

[01:21:54 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-in

[01:21:54 Debug] IdentityServer4.Startup
Using Identity.External as default ASP.NET Core scheme for sign-out

[01:21:54 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for challenge

[01:21:54 Debug] IdentityServer4.Startup
Using Identity.Application as default ASP.NET Core scheme for forbid

[01:21:54 Warning] Microsoft.AspNetCore.Server.Kestrel
Overriding address(es) 'https://localhost:5001, http://localhost:5000'. Binding to endpoints defined in UseKestrel() instead.

[01:21:54 Information] Microsoft.Hosting.Lifetime
Now listening on: http://0.0.0.0:5006

[01:21:54 Information] Microsoft.Hosting.Lifetime
Now listening on: https://0.0.0.0:5007

[01:21:54 Information] Microsoft.Hosting.Lifetime
Application started. Press Ctrl+C to shut down.

[01:21:54 Information] Microsoft.Hosting.Lifetime
Hosting environment: Development

[01:21:54 Information] Microsoft.Hosting.Lifetime
Content root path: /app

[01:24:03 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY&code_challenge_method=S256&response_mode=form_post&nonce=638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj&state=CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[01:24:03 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:03 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:03 Debug] IdentityServer4.Startup
Login Url: /Account/Login

[01:24:03 Debug] IdentityServer4.Startup
Login Return Url Parameter: ReturnUrl

[01:24:03 Debug] IdentityServer4.Startup
Logout Url: /Account/Logout

[01:24:03 Debug] IdentityServer4.Startup
ConsentUrl Url: /consent

[01:24:03 Debug] IdentityServer4.Startup
Consent Return Url Parameter: returnUrl

[01:24:03 Debug] IdentityServer4.Startup
Error Url: /home/error

[01:24:03 Debug] IdentityServer4.Startup
Error Id Parameter: errorId

[01:24:03 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:04 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:04 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[01:24:04 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[01:24:04 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[01:24:04 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[01:24:04 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:04 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[01:24:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:24:04 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:24:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:24:04 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0","UiLocales":null,"Nonce":"638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj","state":"CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[01:24:04 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY&code_challenge_method=S256&response_mode=form_post&nonce=638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj&state=CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 150.1674ms

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DRYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - -

[01:24:04 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:04 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:04 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:04 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:04 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:24:04 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[01:24:04 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:24:04 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:24:04 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:24:04 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:04 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view Login.

[01:24:04 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view Login executed in 91.6215ms.

[01:24:04 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 120.338ms

[01:24:04 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DRYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - - - 200 - text/html;+charset=utf-8 148.5366ms

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[01:24:04 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 22.2164ms

[01:24:04 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[01:24:04 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 37.7659ms

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 31.9810ms

[01:24:04 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 60.8538ms

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[01:24:04 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 43.4799ms

[01:24:04 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[01:24:04 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 63.9767ms

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DRYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198

[01:24:10 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:10 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:24:10 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Starter.Idp.Models.Account.LoginInputModel, System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:24:10 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:24:10 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[01:24:10 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[01:24:10 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding idp claim with value: local

[01:24:10 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Adding auth_time claim with value: 1667006650

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0

[01:24:10 Information] IdentityServer4.Events.DefaultEventService
{"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"4","DisplayName":"bob","Endpoint":"UI","ClientId":"Starter.Bff","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HMLP9H22P34U:00000002","TimeStamp":"2022-10-29T01:24:10.0000000Z","ProcessId":3858,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLoginSuccessEvent"}

[01:24:10 Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor
Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY&code_challenge_method=S256&response_mode=form_post&nonce=638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj&state=CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0.

[01:24:10 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 165.6755ms

[01:24:10 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DRYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1198 - 302 0 - 181.9547ms

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY&code_challenge_method=S256&response_mode=form_post&nonce=638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj&state=CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[01:24:10 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:10 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[01:24:10 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize/callback matched to endpoint type Authorize

[01:24:10 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint

[01:24:10 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback

[01:24:10 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Start authorize callback request

[01:24:10 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
User in authorize request: 4

[01:24:10 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:24:10 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:24:10 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"4","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0","UiLocales":null,"Nonce":"638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"7B3205C7950D070F057A5E99EBDAD2B7","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj","state":"CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[01:24:10 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[01:24:10 Debug] IdentityServer4.Services.DefaultConsentService
Client is configured to not require consent, no consent is required

[01:24:10 Debug] IdentityServer4.ResponseHandling.AuthorizeResponseGenerator
Creating Authorization Code Flow response.

[01:24:10 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","Endpoint":"Authorize","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"code","TokenValue":"****22E0","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP9H22P34V:00000002","TimeStamp":"2022-10-29T01:24:10.0000000Z","ProcessId":3858,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"TokenIssuedSuccessEvent"}

[01:24:10 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Authorize endpoint response
{"SubjectId":"4","ClientId":"Starter.Bff","RedirectUri":"https://localhost/signin-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0","Scope":"openid profile Starter.Api offline_access","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}

[01:24:10 Debug] IdentityServer4.Hosting.IdentityServerAuthenticationService
Augmenting SignInContext

[01:24:10 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed in.

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=RYi_B-R4NIXTsIbYd7RK30oUt6YNY3MFb08h01KD-gY&code_challenge_method=S256&response_mode=form_post&nonce=638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj&state=CfDJ8NlCXmldZLBHsAViIel-sLz1BrAULBGopk-2E6OEn9rTgOXRZni87wUAjPEk02qJXRD0Of-L7y6FJExGhvMAr8CxnM9uo2bnyth5hLwWEElIH0i8YCaQ_4cRnZrorSMj01UjYOCR9ftVTkx5aZJ44Jqo5tevuLrfH4D-TBCGYgTXl0Npye7N8vEANhvQCwx3abonYWTRlb0uJ9sgP-0l8cWTo8sqLVZZIRPwnpaMo5GjCa9YWXsfbJFoxeNWaAyrwoZfs8VgaNLd2KxxHovqbnVdoQDSKdAw3rC1f8ZnAkk9icE-8BsrP0y77ipuTOkVhR1linKPgDYIxT1lvYcfY0SNmbgz36w_91UaClZadCJij-MQjvoJxMMCRbe8HASmx3OMT_B6b6tSZQvzMnpu8o0&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 200 - text/html;+charset=UTF-8 122.6634ms

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/token matched to endpoint type Token

[01:24:10 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint

[01:24:10 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token

[01:24:10 Debug] IdentityServer4.Endpoints.TokenEndpoint
Start token request.

[01:24:10 Debug] IdentityServer4.Validation.ClientSecretValidator
Start client validation

[01:24:10 Debug] IdentityServer4.Validation.BasicAuthenticationSecretParser
Start parsing Basic Authentication secret

[01:24:10 Debug] IdentityServer4.Validation.PostBodySecretParser
Start parsing for secret in post body

[01:24:10 Debug] IdentityServer4.Validation.ISecretsListParser
Parser found secret: PostBodySecretParser

[01:24:10 Debug] IdentityServer4.Validation.ISecretsListParser
Secret id found: Starter.Bff

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Debug] IdentityServer4.Validation.ISecretsListValidator
Secret validator success: HashedSharedSecretValidator

[01:24:10 Debug] IdentityServer4.Validation.ClientSecretValidator
Client validation success

[01:24:10 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HMLP9H22P350:00000002","TimeStamp":"2022-10-29T01:24:10.0000000Z","ProcessId":3858,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"ClientAuthenticationSuccessEvent"}

[01:24:10 Debug] IdentityServer4.Validation.TokenRequestValidator
Start token request validation

[01:24:10 Debug] IdentityServer4.Validation.TokenRequestValidator
Start validation of authorization code token request

[01:24:10 Debug] IdentityServer4.Validation.TokenRequestValidator
Client required a proof key for code exchange. Starting PKCE validation

[01:24:10 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[01:24:10 Debug] IdentityServer4.Validation.TokenRequestValidator
Validation of authorization code token request success

[01:24:10 Information] IdentityServer4.Validation.TokenRequestValidator
Token request validation success, {"ClientId":"Starter.Bff","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"****22E0","RefreshToken":"********","UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"Starter.Bff","client_secret":"***REDACTED***","code":"C6FAAE8F6DBBDA5FBFD2899EF1F459B16525ED889FF2CA7D5257AD7D60BB22E0","grant_type":"authorization_code","redirect_uri":"https://localhost/signin-oidc","code_verifier":"7S1LE9dE0lW5LQV_t7HxCclx3FWJCtbqaDvjNvF-LQY"},"$type":"TokenRequestValidationLog"}

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for client: Starter.Bff

[01:24:10 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for access token for subject: 4

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[01:24:10 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Creating refresh token

[01:24:10 Debug] IdentityServer4.Services.DefaultRefreshTokenService
Setting an absolute lifetime: 2592000

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Debug] IdentityServer4.Services.DefaultClaimsService
Getting claims for identity token for subject: 4 and client: Starter.Bff

[01:24:10 Debug] IdentityServer4.Services.DefaultClaimsService
In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.

[01:24:10 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"4","Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****ONUA","$type":"Token"},{"TokenType":"refresh_token","TokenValue":"****9E3B","$type":"Token"},{"TokenType":"access_token","TokenValue":"****JC_A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HMLP9H22P350:00000002","TimeStamp":"2022-10-29T01:24:10.0000000Z","ProcessId":3858,"LocalIpAddress":"172.18.0.4:5006","RemoteIpAddress":"172.18.0.5","$type":"TokenIssuedSuccessEvent"}

[01:24:10 Debug] IdentityServer4.Endpoints.TokenEndpoint
Token request success.

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 POST http://idp:5006/connect/token application/x-www-form-urlencoded 251 - 200 - application/json;+charset=UTF-8 170.2155ms

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:10 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[01:24:10 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[01:24:10 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[01:24:10 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[01:24:10 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:10 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[01:24:10 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[01:24:10 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"AC0967BF05614B10775270301BD813DA","Claims":{"nbf":1667006650,"exp":1667010250,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667006650,"idp":"local","jti":"AC0967BF05614B10775270301BD813DA","sid":"7B3205C7950D070F057A5E99EBDAD2B7","iat":1667006650,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[01:24:10 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[01:24:10 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[01:24:10 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[01:24:10 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[01:24:10 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[01:24:10 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[01:24:10 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 121.5375ms

[01:24:11 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/connect/userinfo - -

[01:24:11 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:11 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:11 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/userinfo matched to endpoint type Userinfo

[01:24:11 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint

[01:24:11 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo

[01:24:11 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
Start userinfo request

[01:24:11 Debug] IdentityServer4.Validation.BearerTokenUsageValidator
Bearer token found in header

[01:24:11 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:11 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:11 Information] Microsoft.EntityFrameworkCore.Infrastructure
Entity Framework Core 5.0.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None

[01:24:11 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0

[01:24:11 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[01:24:11 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"AC0967BF05614B10775270301BD813DA","Claims":{"nbf":1667006650,"exp":1667010250,"iss":"https://localhost","aud":["starter.api","https://localhost/resources"],"client_id":"Starter.Bff","sub":"4","auth_time":1667006650,"idp":"local","jti":"AC0967BF05614B10775270301BD813DA","sid":"7B3205C7950D070F057A5E99EBDAD2B7","iat":1667006650,"scope":["openid","profile","Starter.Api","offline_access"],"amr":"pwd"},"$type":"TokenValidationLog"}

[01:24:11 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Creating userinfo response

[01:24:11 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Scopes in access token: openid profile Starter.Api offline_access

[01:24:11 Debug] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at

[01:24:11 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0

[01:24:11 Information] Microsoft.EntityFrameworkCore.Database.Command
Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0

[01:24:11 Information] IdentityServer4.ResponseHandling.UserInfoResponseGenerator
Profile service returned the following claim types: sub website family_name given_name name preferred_username

[01:24:11 Debug] IdentityServer4.Endpoints.UserInfoEndpoint
End userinfo request

[01:24:11 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/connect/userinfo - - - 200 - application/json;+charset=UTF-8 38.4965ms

[01:24:14 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/.well-known/openid-configuration - -

[01:24:14 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:14 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:14 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration matched to endpoint type Discovery

[01:24:14 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint

[01:24:14 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration

[01:24:14 Debug] IdentityServer4.Endpoints.DiscoveryEndpoint
Start discovery request

[01:24:14 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/.well-known/openid-configuration - - - 200 - application/json;+charset=UTF-8 37.0983ms

[01:24:14 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.1 GET http://idp:5006/.well-known/openid-configuration/jwks - -

[01:24:14 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:14 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:14 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery

[01:24:14 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint

[01:24:14 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks

[01:24:14 Debug] IdentityServer4.Endpoints.DiscoveryKeyEndpoint
Start key discovery request

[01:24:14 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.1 GET http://idp:5006/.well-known/openid-configuration/jwks - - - 200 - application/json;+charset=UTF-8 10.5079ms

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDY2NTAsImV4cCI6MTY2NzAwNjk1MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI2MDM0NDM4NTY3NTkwLk5ETmhZek14WWpFdE56VmhZaTAwTVRsaExXRTBOamt0TVRZMVpUYzFPV0l6TkRFeU1UQmxZVFU0TnpRdFpUVTNaUzAwWlRNNUxUZzJOakl0Wm1OaVkyRTVNV0ptTldOaiIsImlhdCI6MTY2NzAwNjY1MCwiYXRfaGFzaCI6InRyNFJHUXZwZVZ5Z3hfUTBXSU9XbGciLCJzX2hhc2giOiI0TWFidnFuWUo2dVI1SFpNQjF4MmV3Iiwic2lkIjoiN0IzMjA1Qzc5NTBEMDcwRjA1N0E1RTk5RUJEQUQyQjciLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDA2NjUwLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.A6fBdRxgxnRbn5Zbyo2cewMusF4RUAOL_duorQa1PYYlSQcH_OjhxOcmZCV_r3bXzipJHxR9SYAUCT83xGGLhOFfs1SGvqz0OogWp-ODGqxjX3Ujol08pPw8z7mR5M4Qspy__4xdAHieRkfjVc5-1LSgCT_fZgxikQgNdaWkjIV-lfOG84SRqZQaCRiADGaNZkTW2jAyz5-FLXAPqGZ177hQVERt5Yfj6vPGhx2heCTAHdCfCgzD6ISDM_sy-Vmtl0tlSUULEQWJQANwI-gW1glJJhrvUycBIRFmB32KP6-i598jzMhsDQ-Z629Hj_rCqUS5LgwKwpvpyl9JKTONUA&state=CfDJ8NlCXmldZLBHsAViIel-sLz0VvHiR623sLvE8-7XbQYb52Kn0IiJZFWXkxhL94GPH__ZAuvkt5C6nYtfoVtCFogP-ivvTz4ueaGb_zsLQr4CCR9JyGJGmQt1ytSoDbWMMQps0RFrexzDMhVtJGCq0945yzVs64cdmlSc2nb6tSYv&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[01:24:22 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:22 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:22 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[01:24:22 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[01:24:22 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession matched to endpoint type Endsession

[01:24:22 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint

[01:24:22 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession

[01:24:22 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Processing signout request for 4

[01:24:22 Debug] IdentityServer4.Validation.EndSessionRequestValidator
Start end session request validation

[01:24:22 Debug] IdentityServer4.Validation.TokenValidator
Start identity token validation

[01:24:22 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:22 Debug] IdentityServer4.Validation.TokenValidator
Client found: Starter.Bff / null

[01:24:22 Debug] IdentityServer4.Validation.TokenValidator
Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator

[01:24:22 Debug] IdentityServer4.Validation.TokenValidator
Token validation success
{"ClientId":"Starter.Bff","ClientName":null,"ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1667006650,"exp":1667006950,"iss":"https://localhost","aud":"Starter.Bff","nonce":"638026034438567590.NDNhYzMxYjEtNzVhYi00MTlhLWE0NjktMTY1ZTc1OWIzNDEyMTBlYTU4NzQtZTU3ZS00ZTM5LTg2NjItZmNiY2E5MWJmNWNj","iat":1667006650,"at_hash":"tr4RGQvpeVygx_Q0WIOWlg","s_hash":"4MabvqnYJ6uR5HZMB1x2ew","sid":"7B3205C7950D070F057A5E99EBDAD2B7","sub":"4","auth_time":1667006650,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}

[01:24:22 Information] IdentityServer4.Validation.EndSessionRequestValidator
End session request validation success
{"ClientId":"Starter.Bff","ClientName":null,"SubjectId":"4","PostLogOutUri":"https://localhost/signout-callback-oidc","State":"CfDJ8NlCXmldZLBHsAViIel-sLz0VvHiR623sLvE8-7XbQYb52Kn0IiJZFWXkxhL94GPH__ZAuvkt5C6nYtfoVtCFogP-ivvTz4ueaGb_zsLQr4CCR9JyGJGmQt1ytSoDbWMMQps0RFrexzDMhVtJGCq0945yzVs64cdmlSc2nb6tSYv","Raw":{"post_logout_redirect_uri":"https://localhost/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8NlCXmldZLBHsAViIel-sLz0VvHiR623sLvE8-7XbQYb52Kn0IiJZFWXkxhL94GPH__ZAuvkt5C6nYtfoVtCFogP-ivvTz4ueaGb_zsLQr4CCR9JyGJGmQt1ytSoDbWMMQps0RFrexzDMhVtJGCq0945yzVs64cdmlSc2nb6tSYv","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"EndSessionRequestValidationLog"}

[01:24:22 Debug] IdentityServer4.Endpoints.EndSessionEndpoint
Success validating end session request from Starter.Bff

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession?post_logout_redirect_uri=https%3A%2F%2Flocalhost%2Fsignout-callback-oidc&id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg1RTc3MDAyODhFOUFCMkRBOEJFODA4QkEyREZGRTZDIiwidHlwIjoiSldUIn0.eyJuYmYiOjE2NjcwMDY2NTAsImV4cCI6MTY2NzAwNjk1MCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3QiLCJhdWQiOiJTdGFydGVyLkJmZiIsIm5vbmNlIjoiNjM4MDI2MDM0NDM4NTY3NTkwLk5ETmhZek14WWpFdE56VmhZaTAwTVRsaExXRTBOamt0TVRZMVpUYzFPV0l6TkRFeU1UQmxZVFU0TnpRdFpUVTNaUzAwWlRNNUxUZzJOakl0Wm1OaVkyRTVNV0ptTldOaiIsImlhdCI6MTY2NzAwNjY1MCwiYXRfaGFzaCI6InRyNFJHUXZwZVZ5Z3hfUTBXSU9XbGciLCJzX2hhc2giOiI0TWFidnFuWUo2dVI1SFpNQjF4MmV3Iiwic2lkIjoiN0IzMjA1Qzc5NTBEMDcwRjA1N0E1RTk5RUJEQUQyQjciLCJzdWIiOiI0IiwiYXV0aF90aW1lIjoxNjY3MDA2NjUwLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.A6fBdRxgxnRbn5Zbyo2cewMusF4RUAOL_duorQa1PYYlSQcH_OjhxOcmZCV_r3bXzipJHxR9SYAUCT83xGGLhOFfs1SGvqz0OogWp-ODGqxjX3Ujol08pPw8z7mR5M4Qspy__4xdAHieRkfjVc5-1LSgCT_fZgxikQgNdaWkjIV-lfOG84SRqZQaCRiADGaNZkTW2jAyz5-FLXAPqGZ177hQVERt5Yfj6vPGhx2heCTAHdCfCgzD6ISDM_sy-Vmtl0tlSUULEQWJQANwI-gW1glJJhrvUycBIRFmB32KP6-i598jzMhsDQ-Z629Hj_rCqUS5LgwKwpvpyl9JKTONUA&state=CfDJ8NlCXmldZLBHsAViIel-sLz0VvHiR623sLvE8-7XbQYb52Kn0IiJZFWXkxhL94GPH__ZAuvkt5C6nYtfoVtCFogP-ivvTz4ueaGb_zsLQr4CCR9JyGJGmQt1ytSoDbWMMQps0RFrexzDMhVtJGCq0945yzVs64cdmlSc2nb6tSYv&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 24.1105ms

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DEvJypqRi9NI-42maPxt2DW5d6M7G4Q50ufguHAORiOfC3qY1Wk09-GVr9BbX2Xd9HOOlQftAJyD9mC1cA_4DrQ_lPpoHbO-lKP-1SsdhRO7dj61JK33R7rt-_3i2xCJwYF9DUa2TcGeVCC1HybyuaOh6CM2tDmOIyORcaygklvMbYtcEs7rqaQ_xcTkw8n39QNO0QRUvjz8MWjfm3xbgZj0q4TDNVrBmJEXJK3DzRCK2MYt4pSwJesSJU8vjfTiZT4HAvZ0bGpdicoRF0jUuxVuMZ2Snhf0yXaACFv4NDI-7xOfECBnzqMDaY3Wqx7KghwjNMrBsNCeuy4QRG1-ek2Xd3qTVIJ6537qrqi_omXmqNSxe54wzogss6iP0m3sHNXhslSRxAESjD0A1gZNGecsw6H98zNdPX1Obj0Ld37lLWqApFoalDKFmDmyLM8kF1qUqNkQ-1K6JPr0NXrfrx6JAk2LKlIlQC3d4o3Vm1GmdtqlWZRt5ILKsKA66HIU2l7PS436NoFqCCoIK-jgsy3HmemD4sCmM61l8ZjZhNFVfwlXYpSRHSGq-CIcaOFreHuyAEpngYLM_Vq0GVgFm064IeS4EDIgoGdRjyz4exPkqlmtQqx1LomGSlnn5YVWcHMrNBpiulMehhzBxmI9DSFIm08EO3HI6JUVFGfXD_qGlDPW3G2nu0etaSlqI-gQo7sl810o0j0UIAW6DX1wYCxdh1MAegCp2_36afZCrdrZQ - -

[01:24:22 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:22 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:22 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[01:24:22 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was successfully authenticated.

[01:24:22 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[01:24:22 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[01:24:22 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application signed out.

[01:24:22 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.External signed out.

[01:24:22 Information] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.TwoFactorUserId signed out.

[01:24:22 Information] IdentityServer4.Events.DefaultEventService
{"SubjectId":"4","DisplayName":"Bob Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HMLP9H22P354:00000002","TimeStamp":"2022-10-29T01:24:22.0000000Z","ProcessId":3858,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"UserLogoutSuccessEvent"}

[01:24:22 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view LoggedOut.

[01:24:22 Debug] IdentityServer4.Hosting.IdentityServerMiddleware
SignOutCalled set; processing post-signout session cleanup.

[01:24:22 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:22 Debug] IdentityServer4.Services.LogoutNotificationService
No client back-channel logout URLs

[01:24:22 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view LoggedOut executed in 11.482ms.

[01:24:22 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Logout (IDP) in 36.2445ms

[01:24:22 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Logout (IDP)'

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Logout?logoutId=CfDJ8Hang32hRfBDkNsasZEG-DEvJypqRi9NI-42maPxt2DW5d6M7G4Q50ufguHAORiOfC3qY1Wk09-GVr9BbX2Xd9HOOlQftAJyD9mC1cA_4DrQ_lPpoHbO-lKP-1SsdhRO7dj61JK33R7rt-_3i2xCJwYF9DUa2TcGeVCC1HybyuaOh6CM2tDmOIyORcaygklvMbYtcEs7rqaQ_xcTkw8n39QNO0QRUvjz8MWjfm3xbgZj0q4TDNVrBmJEXJK3DzRCK2MYt4pSwJesSJU8vjfTiZT4HAvZ0bGpdicoRF0jUuxVuMZ2Snhf0yXaACFv4NDI-7xOfECBnzqMDaY3Wqx7KghwjNMrBsNCeuy4QRG1-ek2Xd3qTVIJ6537qrqi_omXmqNSxe54wzogss6iP0m3sHNXhslSRxAESjD0A1gZNGecsw6H98zNdPX1Obj0Ld37lLWqApFoalDKFmDmyLM8kF1qUqNkQ-1K6JPr0NXrfrx6JAk2LKlIlQC3d4o3Vm1GmdtqlWZRt5ILKsKA66HIU2l7PS436NoFqCCoIK-jgsy3HmemD4sCmM61l8ZjZhNFVfwlXYpSRHSGq-CIcaOFreHuyAEpngYLM_Vq0GVgFm064IeS4EDIgoGdRjyz4exPkqlmtQqx1LomGSlnn5YVWcHMrNBpiulMehhzBxmI9DSFIm08EO3HI6JUVFGfXD_qGlDPW3G2nu0etaSlqI-gQo7sl810o0j0UIAW6DX1wYCxdh1MAegCp2_36afZCrdrZQ - - - 200 - text/html;+charset=utf-8 50.7424ms

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[01:24:22 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 19.3822ms

[01:24:22 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 32.2838ms

[01:24:22 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[01:24:22 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 28.1970ms

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 26.6875ms

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DEGiB5zo54GPNEUlfQEoq_sZAiGIZTMt1gBRQHkuJBsrj_SmtH9Wg3euoihPKGNXewMaftOxX6QjQ3HlDqZx5uGxT-CD7Q_BOv4tVCCDEHpP5HU79lGL4y1VdjuVFqj5TfrYmD19vjuvto6yfG35tM-cm1LFR-SsPCf2e7T3BbXD6AXS7DFX-yrOaA5DvX8uyLJt1vViXdFqxO8WjKXTbXZeYHjOJ6u7zTobEdgoFpD0L-kZQ0-ikD2iz6jq3LIFprA-ilJcKzM-R-H2ePZrMYi - -

[01:24:22 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:24:22 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:24:22 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:22 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:24:22 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/endsession/callback matched to endpoint type Endsession

[01:24:22 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint

[01:24:22 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback

[01:24:22 Debug] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Processing signout callback request

[01:24:22 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:24:22 Debug] IdentityServer4.Services.LogoutNotificationService
No client front-channel logout URLs

[01:24:22 Information] IdentityServer4.Endpoints.EndSessionCallbackEndpoint
Successful signout callback.

[01:24:22 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/endsession/callback?endSessionId=CfDJ8Hang32hRfBDkNsasZEG-DEGiB5zo54GPNEUlfQEoq_sZAiGIZTMt1gBRQHkuJBsrj_SmtH9Wg3euoihPKGNXewMaftOxX6QjQ3HlDqZx5uGxT-CD7Q_BOv4tVCCDEHpP5HU79lGL4y1VdjuVFqj5TfrYmD19vjuvto6yfG35tM-cm1LFR-SsPCf2e7T3BbXD6AXS7DFX-yrOaA5DvX8uyLJt1vViXdFqxO8WjKXTbXZeYHjOJ6u7zTobEdgoFpD0L-kZQ0-ikD2iz6jq3LIFprA-ilJcKzM-R-H2ePZrMYi - - - 200 - text/html;+charset=UTF-8 21.2736ms

[01:24:23 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[01:24:23 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[01:24:23 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[01:24:23 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 23.2604ms

[01:24:23 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[01:24:23 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 32.0371ms

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs&code_challenge_method=S256&response_mode=form_post&nonce=638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy&state=CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[01:25:09 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:25:09 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:25:09 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:09 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:09 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize matched to endpoint type Authorize

[01:25:09 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint

[01:25:09 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize

[01:25:09 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
Start authorize request

[01:25:09 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:09 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
No user present in authorize request

[01:25:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:25:09 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:25:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:25:09 Debug] IdentityServer4.Endpoints.AuthorizeEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI","UiLocales":null,"Nonce":"638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy","state":"CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[01:25:09 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Showing login: User is not authenticated

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs&code_challenge_method=S256&response_mode=form_post&nonce=638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy&state=CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 302 0 - 11.4854ms

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DF6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - -

[01:25:09 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:25:09 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:25:09 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:09 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:09 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:25:09 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[01:25:09 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:25:09 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:25:09 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:25:09 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:09 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view Login.

[01:25:09 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view Login executed in 2.7957ms.

[01:25:09 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 6.9136ms

[01:25:09 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DF6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - - - 200 - text/html;+charset=utf-8 12.9288ms

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[01:25:09 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 18.7945ms

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[01:25:09 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 17.6597ms

[01:25:09 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 18.6755ms

[01:25:09 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 33.9525ms

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[01:25:09 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 27.3443ms

[01:25:09 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[01:25:09 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 33.1833ms

[01:25:16 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DF6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1186

[01:25:16 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:25:16 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:25:16 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Starter.Idp.Models.Account.LoginInputModel, System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:25:16 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:16 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:25:16 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Information] Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor
Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs&code_challenge_method=S256&response_mode=form_post&nonce=638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy&state=CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0.

[01:25:16 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 22.193ms

[01:25:16 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:25:16 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 POST https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DF6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1186 - 302 0 - 28.5996ms

[01:25:16 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs&code_challenge_method=S256&response_mode=form_post&nonce=638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy&state=CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - -

[01:25:16 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:25:16 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Debug] IdentityServer4.Hosting.EndpointRouter
Request path /connect/authorize/callback matched to endpoint type Authorize

[01:25:16 Debug] IdentityServer4.Hosting.EndpointRouter
Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint

[01:25:16 Information] IdentityServer4.Hosting.IdentityServerMiddleware
Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback

[01:25:16 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
Start authorize callback request

[01:25:16 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:16 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
No user present in authorize request

[01:25:16 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:25:16 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:16 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:25:16 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:25:16 Debug] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
ValidatedAuthorizeRequest
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI","UiLocales":null,"Nonce":"638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy","state":"CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[01:25:16 Information] IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator
Error: User consent result: "AccessDenied"

[01:25:16 Information] IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","AllowedRedirectUris":["https://localhost/signin-oidc","https://bff:5005/signin-oidc","https://localhost/loggedin"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile Starter.Api offline_access","State":"CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI","UiLocales":null,"Nonce":"638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"Starter.Bff","redirect_uri":"https://localhost/signin-oidc","response_type":"code","scope":"openid profile Starter.Api offline_access","code_challenge":"F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs","code_challenge_method":"S256","response_mode":"form_post","nonce":"638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy","state":"CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}

[01:25:16 Information] IdentityServer4.Events.DefaultEventService
{"ClientId":"Starter.Bff","ClientName":null,"RedirectUri":"https://localhost/signin-oidc","Endpoint":"Authorize","SubjectId":null,"Scopes":"openid profile Starter.Api offline_access","GrantType":"authorization_code","Error":"access_denied","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HMLP9H22P35L:00000002","TimeStamp":"2022-10-29T01:25:16.0000000Z","ProcessId":3858,"LocalIpAddress":"172.18.0.4:5007","RemoteIpAddress":"172.18.0.1","$type":"TokenIssuedFailureEvent"}

[01:25:16 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/connect/authorize/callback?client_id=Starter.Bff&redirect_uri=https%3A%2F%2Flocalhost%2Fsignin-oidc&response_type=code&scope=openid%20profile%20Starter.Api%20offline_access&code_challenge=F6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs&code_challenge_method=S256&response_mode=form_post&nonce=638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy&state=CfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=6.7.1.0 - - - 200 - text/html;+charset=UTF-8 14.3519ms

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DF6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - -

[01:25:31 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsService
CORS policy execution successful.

[01:25:31 Information] Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware
No CORS policy found for the specified request.

[01:25:31 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:31 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:31 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executing endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:25:31 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller Starter.Idp.Controllers.Account.AccountController (IDP).

[01:25:31 Debug] Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
AuthenticationScheme: Identity.Application was not authenticated.

[01:25:31 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Start authorize request protocol validation

[01:25:31 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:31 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Checking for PKCE parameters

[01:25:31 Debug] IdentityServer4.Validation.AuthorizeRequestValidator
Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator

[01:25:31 Debug] IdentityServer4.Stores.ValidatingClientStore
client configuration validation for client Starter.Bff succeeded.

[01:25:31 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executing ViewResult, running view Login.

[01:25:31 Information] Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor
Executed ViewResult - view Login executed in 3.8742ms.

[01:25:31 Information] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker
Executed action Starter.Idp.Controllers.Account.AccountController.Login (IDP) in 7.2844ms

[01:25:31 Information] Microsoft.AspNetCore.Routing.EndpointMiddleware
Executed endpoint 'Starter.Idp.Controllers.Account.AccountController.Login (IDP)'

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3DStarter.Bff%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520Starter.Api%2520offline_access%26code_challenge%3DF6buEdZBIcx_VgxllAOEG9FWzhFuMcr4zUIgltlwVMs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D638026035089951716.ZmM1ZmY3NzItNDBkNC00NjRkLTg4ZDQtNjc5YjEzNDNlMzBkYWNkMzdlODgtMzY0OC00MDUxLWEyMjctNDk0NTU4OTJlMTMy%26state%3DCfDJ8NlCXmldZLBHsAViIel-sLzrxVl_8wZmtUy1YKNVEt2LuMj4nb2dXvkrVMNyFPExmpiJcbgXmgVt8uDcDR3BFww8m2H3GCBLL0pyrtVm57YfySEHmxz05iLYUkH02QVSdV1JKXyL0QxpMdSGM0AdFA0kaS0rlKh_vSjdwq31KsEnOvrH6Hw2fcx7LdcKQivBA2LnJhdPG_HaEhhE7MmHzUl3w3GRRMy-ynLXjira38OuEgGk0L_gg4zc2hs4ge2WYxnl9Y2oI0fqurbwV3avq4mjHK_NLXaejXWEcptblIc5gXF2axUb5oi42_u6Q7EuOAXmEXTCHvk3jwl0gFQH1KHMbncXSeD6gmHoNFcRuA6nqFh31YBerm0t-PP_j5DnKEbYtXMgdG9T-a7g7aPtnwI%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D6.7.1.0 - - - 200 - text/html;+charset=utf-8 11.2665ms

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/css/site.css - -

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - -

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -

[01:25:31 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/css/site.css'. Physical path: '/app/wwwroot/css/site.css'

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - -

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/css/site.css - - - 200 497 text/css 20.6976ms

[01:25:31 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js'

[01:25:31 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css'

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 80698 application/javascript 27.1673ms

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 159515 text/css 30.3027ms

[01:25:31 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: '/app/wwwroot/lib/jquery/dist/jquery.slim.min.js'

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/jquery/dist/jquery.slim.min.js - - - 200 72397 application/javascript 28.8405ms

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - -

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request starting HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -

[01:25:31 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/css/bootstrap.min.css.map'

[01:25:31 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 641867 text/plain 26.6516ms

[01:25:32 Information] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware
Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: '/app/wwwroot/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'

[01:25:32 Information] Microsoft.AspNetCore.Hosting.Diagnostics
Request finished HTTP/1.0 GET https://localhost/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 318045 text/plain 15.7911ms

